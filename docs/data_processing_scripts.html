<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Adam Dennett">

<title>Data Processing Scripts – Brighton and Hove Secondary Schools Admission - Evidence Pages</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-HFKH18TWMG"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-HFKH18TWMG', { 'anonymize_ip': true});
</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="site_libs/datatables-binding-0.33/datatables.js"></script>

<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<script src="site_libs/jszip-1.13.6/jszip.min.js"></script>

<script src="site_libs/pdfmake-1.13.6/pdfmake.js"></script>

<script src="site_libs/pdfmake-1.13.6/vfs_fonts.js"></script>

<link href="site_libs/dt-ext-buttons-1.13.6/css/buttons.dataTables.min.css" rel="stylesheet">

<script src="site_libs/dt-ext-buttons-1.13.6/js/dataTables.buttons.min.js"></script>

<script src="site_libs/dt-ext-buttons-1.13.6/js/buttons.html5.min.js"></script>

<script src="site_libs/dt-ext-buttons-1.13.6/js/buttons.colVis.min.js"></script>

<script src="site_libs/dt-ext-buttons-1.13.6/js/buttons.print.min.js"></script>

<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>



<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="Data Processing Scripts – Brighton and Hove Secondary Schools Admission - Evidence Pages">
<meta property="og:description" content="">
<meta property="og:site_name" content="Brighton and Hove Secondary Schools Admission - Evidence Pages">
<meta name="twitter:title" content="Data Processing Scripts – Brighton and Hove Secondary Schools Admission - Evidence Pages">
<meta name="twitter:description" content="">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Brighton and Hove Secondary Schools Admission - Evidence Pages</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./data_processing_scripts.html" aria-current="page"> 
<span class="menu-text">Data Processing</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="./about.qmd"> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./schools_wk2.html"> 
<span class="menu-text">Week 2 Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./schools_wk3.html"> 
<span class="menu-text">Week 3 Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./stain_removal.html"> 
<span class="menu-text">Addendum</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./factsheet.html"> 
<span class="menu-text">Factsheet</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://adamdennett.co.uk"> <i class="bi bi-person-circle" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/adam_dennett"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-github" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-github">    
        <li>
    <a class="dropdown-item" href="https://github.com/adamdennett/BH_Schools_2">
 <span class="dropdown-text">Source Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/adamdennett/BH_Schools_2/issues">
 <span class="dropdown-text">Report a Bug</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#processed-allocation-factsheets-2014-2025" id="toc-processed-allocation-factsheets-2014-2025" class="nav-link active" data-scroll-target="#processed-allocation-factsheets-2014-2025">Processed Allocation Factsheets 2014-2025</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section">2025</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1">2024</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2">2023</a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3">2022</a></li>
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4">2021</a></li>
  <li><a href="#section-5" id="toc-section-5" class="nav-link" data-scroll-target="#section-5">2020</a></li>
  <li><a href="#section-6" id="toc-section-6" class="nav-link" data-scroll-target="#section-6">2019</a></li>
  <li><a href="#section-7" id="toc-section-7" class="nav-link" data-scroll-target="#section-7">2018</a></li>
  <li><a href="#section-8" id="toc-section-8" class="nav-link" data-scroll-target="#section-8">2017</a></li>
  <li><a href="#section-9" id="toc-section-9" class="nav-link" data-scroll-target="#section-9">2016</a></li>
  <li><a href="#section-10" id="toc-section-10" class="nav-link" data-scroll-target="#section-10">2015</a></li>
  <li><a href="#section-11" id="toc-section-11" class="nav-link" data-scroll-target="#section-11">2014</a></li>
  <li><a href="#section-12" id="toc-section-12" class="nav-link" data-scroll-target="#section-12">2013</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/adamdennett/BH_Schools_2/blob/main/data_processing_scripts.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/adamdennett/BH_Schools_2/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Data Processing Scripts</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Adam Dennett </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="processed-allocation-factsheets-2014-2025" class="level2">
<h2 class="anchored" data-anchor-id="processed-allocation-factsheets-2014-2025">Processed Allocation Factsheets 2014-2025</h2>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section">2025</h2>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-5383df7965859405a2dc" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5383df7965859405a2dc">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11"],["Blatchington Mill","Brighton Aldridge Community Academy","Cardinal Newman","Dorothy Stringer","Hove Park","Kings School","Longhill High","Patcham High","Portslade Aldridge Community Academy","Varndean","Total"],[258,83,523,215,130,252,74,166,175,427,2303],[244,83,349,186,130,170,74,166,175,284,1861],[273,37,239,479,242,280,39,74,87,390,2140],[61,5,11,127,27,10,17,18,12,13,301],[303,33,319,228,274,219,36,235,70,192,1911],[25,1,0,17,14,0,1,18,3,3,87],[834,153,1081,922,646,751,151,475,332,1009,6354],[330,89,360,330,171,180,97,202,190,300,2249]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School<\/th>\n      <th>No_1st_pref<\/th>\n      <th>No_1st_pref_offer<\/th>\n      <th>No_2nd_pref<\/th>\n      <th>No_2nd_pref_offer<\/th>\n      <th>No_3rd_pref<\/th>\n      <th>No_3rd_pref_offer<\/th>\n      <th>Total<\/th>\n      <th>Total_offer<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":11,"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"School","targets":1},{"name":"No_1st_pref","targets":2},{"name":"No_1st_pref_offer","targets":3},{"name":"No_2nd_pref","targets":4},{"name":"No_2nd_pref_offer","targets":5},{"name":"No_3rd_pref","targets":6},{"name":"No_3rd_pref_offer","targets":7},{"name":"Total","targets":8},{"name":"Total_offer","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,11,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><a href="https://www.brighton-hove.gov.uk/children-and-learning/allocation-factsheet-year-7-places-september-2025" class="uri">https://www.brighton-hove.gov.uk/children-and-learning/allocation-factsheet-year-7-places-september-2025</a></p>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1">2024</h2>
<p><a href="https://www.brighton-hove.gov.uk/allocation-factsheet-year-7-places-september-2024" class="uri">https://www.brighton-hove.gov.uk/allocation-factsheet-year-7-places-september-2024</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-790dd7d85c436f0133ac" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-790dd7d85c436f0133ac">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11"],["Blatchington Mill","Brighton Aldridge Community Academy","Cardinal Newman","Dorothy Stringer","Hove Park","Kings School","Longhill High","Patcham High","Portslade Aldridge Community Academy","Varndean","Total"],[279,73,466,234,110,242,80,210,129,456,2279],[243,73,347,199,110,159,80,182,129,293,1815],[268,27,203,518,252,224,30,89,105,394,2110],[69,6,12,111,41,6,9,23,38,7,322],[224,39,272,262,244,202,39,253,77,209,1821],[18,5,1,20,19,0,5,20,4,0,92],[771,139,941,1014,606,668,149,552,311,1059,6210],[330,84,360,330,170,165,94,225,171,300,2259]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School<\/th>\n      <th>No_1st_pref<\/th>\n      <th>No_1st_pref_offer<\/th>\n      <th>No_2nd_pref<\/th>\n      <th>No_2nd_pref_offer<\/th>\n      <th>No_3rd_pref<\/th>\n      <th>No_3rd_pref_offer<\/th>\n      <th>Total<\/th>\n      <th>Total_offer<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":11,"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"School","targets":1},{"name":"No_1st_pref","targets":2},{"name":"No_1st_pref_offer","targets":3},{"name":"No_2nd_pref","targets":4},{"name":"No_2nd_pref_offer","targets":5},{"name":"No_3rd_pref","targets":6},{"name":"No_3rd_pref_offer","targets":7},{"name":"Total","targets":8},{"name":"Total_offer","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,11,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Any child living within Brighton &amp; Hove who was not offered a place at one of their preferred schools would have been offered a place at the nearest school with places available.</p>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2">2023</h2>
<p><a href="https://www.brighton-hove.gov.uk/children-and-learning/allocation-factsheet-year-7-places-september-2023" class="uri">https://www.brighton-hove.gov.uk/children-and-learning/allocation-factsheet-year-7-places-september-2023</a></p>
<p>Any child living within Brighton &amp; Hove who was not offered a place at one of their preferred schools would have been offered a place at the nearest school with places available.</p>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3">2022</h2>
<p><a href="https://www.brighton-hove.gov.uk/schools-and-learning/apply-school/allocation-factsheet-year-7-places-september-2022" class="uri">https://www.brighton-hove.gov.uk/schools-and-learning/apply-school/allocation-factsheet-year-7-places-september-2022</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-df33964c323a69486488" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-df33964c323a69486488">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11"],["Blatchington Mill","Brighton Aldridge Community Academy","Cardinal Newman","Dorothy Stringer","Hove Park","Kings School","Longhill","Patcham High","Portslade Aldridge Community Academy","Varndean","Total"],[292,121,381,291,115,232,104,218,166,444,2364],[270,121,342,258,115,160,104,197,166,303,2034],[299,37,182,537,246,234,39,80,106,435,2195],[50,8,16,87,24,3,10,12,26,6,245],[235,77,293,226,235,203,45,320,84,212,1930],[10,3,2,4,10,2,8,16,2,1,57],[826,235,856,1054,596,669,188,618,356,1091,6789],[330,132,360,349,149,165,122,225,194,310,2407]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School<\/th>\n      <th>No_1st_pref<\/th>\n      <th>No_1st_pref_offer<\/th>\n      <th>No_2nd_pref<\/th>\n      <th>No_2nd_pref_offer<\/th>\n      <th>No_3rd_pref<\/th>\n      <th>No_3rd_pref_offer<\/th>\n      <th>Total<\/th>\n      <th>Total_offer<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":11,"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"School","targets":1},{"name":"No_1st_pref","targets":2},{"name":"No_1st_pref_offer","targets":3},{"name":"No_2nd_pref","targets":4},{"name":"No_2nd_pref_offer","targets":5},{"name":"No_3rd_pref","targets":6},{"name":"No_3rd_pref_offer","targets":7},{"name":"Total","targets":8},{"name":"Total_offer","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,11,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>There were 29 children in the Dorothy Stringer/Varndean Catchment area who applied for both these schools but could not initially be offered a catchment area school or a higher preference. To accommodate these children in a catchment area school, 19 additional children were allocated to Dorothy Stringer and 10 to Varndean school.</p>
<p>All children living in the Dorothy Stringer/Varndean catchment who expressed a preference for both catchment schools were offered a place at a catchment school or a higher preference.</p>
<p>The Published Admissions Number (PAN) for Dorothy Stringer and Varndean school will remain at 330 and 300 respectively.</p>
</section>
<section id="section-4" class="level2">
<h2 class="anchored" data-anchor-id="section-4">2021</h2>
<p><a href="https://www.brighton-hove.gov.uk/schools-and-learning/apply-school/allocation-factsheet-year-7-places-september-2021" class="uri">https://www.brighton-hove.gov.uk/schools-and-learning/apply-school/allocation-factsheet-year-7-places-september-2021</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-d28a30341de2631652a9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d28a30341de2631652a9">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11"],["Blatchington Mill","Brighton Aldridge Community Academy","Cardinal Newman","Dorothy Stringer","Hove Park","Kings School","Longhill","Patcham High","Portslade Aldridge Community Academy","Varndean","Total"],[400,116,414,386,116,235,145,211,165,386,2574],[284,116,340,306,116,150,145,193,165,296,2111],[320,46,226,493,310,258,35,83,90,492,2353],[40,9,18,23,101,14,12,15,16,4,252],[278,49,321,227,249,280,46,252,102,208,2012],[6,16,2,1,30,1,10,17,5,0,88],[998,211,961,1106,675,773,226,546,357,1086,6939],[330,141,360,330,247,165,167,225,186,300,2501]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School<\/th>\n      <th>No_1st_pref<\/th>\n      <th>No_1st_pref_offer<\/th>\n      <th>No_2nd_pref<\/th>\n      <th>No_2nd_pref_offer<\/th>\n      <th>No_3rd_pref<\/th>\n      <th>No_3rd_pref_offer<\/th>\n      <th>Total<\/th>\n      <th>Total_offer<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":11,"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"School","targets":1},{"name":"No_1st_pref","targets":2},{"name":"No_1st_pref_offer","targets":3},{"name":"No_2nd_pref","targets":4},{"name":"No_2nd_pref_offer","targets":5},{"name":"No_3rd_pref","targets":6},{"name":"No_3rd_pref_offer","targets":7},{"name":"Total","targets":8},{"name":"Total_offer","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,11,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>There were 62 children in the Dorothy Stringer/Varndean Catchment area who couldn’t be offered a catchment area school or a higher preference. Of these 62 children, 44 expressed preferences for both catchment area schools.</p>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5">2020</h2>
<p><a href="https://www.brighton-hove.gov.uk/schools-and-learning/apply-school/allocation-factsheet-year-7-places-september-2020" class="uri">https://www.brighton-hove.gov.uk/schools-and-learning/apply-school/allocation-factsheet-year-7-places-september-2020</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-2ac09134250da922a807" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2ac09134250da922a807">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11"],["Blatchington Mill","Brighton Aldridge Community Academy","Cardinal Newman","Dorothy Stringer","Hove Park","Kings School","Longhill","Patcham High","Portslade Aldridge Community Academy","Varndean","Total"],[350,89,349,438,80,253,159,219,174,307,2418],[279,89,311,357,80,145,159,206,174,268,2068],[281,50,221,489,227,282,38,65,95,530,2278],[45,7,39,7,33,5,11,11,21,36,215],[237,62,326,203,281,257,38,304,77,231,2016],[6,10,10,0,24,0,7,8,8,0,73],[868,201,896,1130,588,792,235,588,346,1068,null],[330,106,360,364,137,150,177,225,203,304,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School<\/th>\n      <th>No_1st_pref<\/th>\n      <th>No_1st_pref_offer<\/th>\n      <th>No_2nd_pref<\/th>\n      <th>No_2nd_pref_offer<\/th>\n      <th>No_3rd_pref<\/th>\n      <th>No_3rd_pref_offer<\/th>\n      <th>Total<\/th>\n      <th>Total_offer<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":11,"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"School","targets":1},{"name":"No_1st_pref","targets":2},{"name":"No_1st_pref_offer","targets":3},{"name":"No_2nd_pref","targets":4},{"name":"No_2nd_pref_offer","targets":5},{"name":"No_3rd_pref","targets":6},{"name":"No_3rd_pref_offer","targets":7},{"name":"Total","targets":8},{"name":"Total_offer","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,11,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>There were 8 children in the Dorothy Stringer and Varndean Catchment area who applied for both these schools but could not initially be offered a catchment area school or a higher preference. In order to accommodate these children in a catchment area school, 4 additional children were allocated, each, to Dorothy Stringer and Varndean schools.</p>
</section>
<section id="section-6" class="level2">
<h2 class="anchored" data-anchor-id="section-6">2019</h2>
<p><a href="https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202019.pdf" class="uri">https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202019.pdf</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-110e774c12356077f759" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-110e774c12356077f759">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11"],["Blatchington Mill","Brighton Aldridge Community Academy","Cardinal Newman","Dorothy Stringer","Hove Park","Kings School","Longhill","Patcham High","Portslade Aldridge Community Academy","Varndean","Total"],[373,92,465,447,119,188,153,217,168,304,2526],[282,92,340,355,119,157,152,190,164,251,2102],[344,40,219,470,289,209,33,83,106,537,2330],[37,11,14,9,62,17,16,19,49,47,281],[256,49,344,233,271,204,62,299,136,257,2111],[11,7,6,0,34,4,15,16,27,6,126],[973,181,1028,1150,679,601,248,599,410,1098,6967],[330,110,360,364,215,178,183,225,240,304,2509]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School<\/th>\n      <th>No_1st_pref<\/th>\n      <th>No_1st_pref_offer<\/th>\n      <th>No_2nd_pref<\/th>\n      <th>No_2nd_pref_offer<\/th>\n      <th>No_3rd_pref<\/th>\n      <th>No_3rd_pref_offer<\/th>\n      <th>Total<\/th>\n      <th>Total_offer<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":11,"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"School","targets":1},{"name":"No_1st_pref","targets":2},{"name":"No_1st_pref_offer","targets":3},{"name":"No_2nd_pref","targets":4},{"name":"No_2nd_pref_offer","targets":5},{"name":"No_3rd_pref","targets":6},{"name":"No_3rd_pref_offer","targets":7},{"name":"Total","targets":8},{"name":"Total_offer","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,11,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<ul>
<li>There were 8 children in the Dorothy Stringer/Varndean Catchment area who applied for both these schools but could not initially be offered a catchment area school or a higher preference. In order to accommodate these children in a catchment area school, 4 additional children were allocated, each, to Dorothy Stringer and Varndean schools.</li>
</ul>
</section>
<section id="section-7" class="level2">
<h2 class="anchored" data-anchor-id="section-7">2018</h2>
<p><a href="https://www.brighton-hove.gov.uk/sites/default/files/migrated/subject/inline/Secondary%20Allocation%20factsheet%202018.pdf" class="uri">https://www.brighton-hove.gov.uk/sites/default/files/migrated/subject/inline/Secondary%20Allocation%20factsheet%202018.pdf</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-3ebdcd513ab04870333f" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3ebdcd513ab04870333f">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11"],["Blatchington Mill","Brighton Aldridge Community Academy","Cardinal Newman","Dorothy Stringer","Hove Park","Kings School","Longhill","Patcham High","Portslade Aldridge Community Academy","Varndean","Total"],[401,110,381,413,151,143,156,226,168,355,2504],[303,109,342,325,151,117,156,191,168,280,2142],[288,42,162,488,345,133,28,64,108,486,2143],[22,15,15,6,71,7,8,13,13,20,190],[257,50,274,208,226,159,47,368,133,253,1975],[5,6,3,0,17,1,11,21,7,0,71],[946,202,816,1109,722,435,231,658,409,1094,6622],[330,130,360,331,239,125,175,225,188,300,2403]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School<\/th>\n      <th>No_1st_pref<\/th>\n      <th>No_1st_pref_offer<\/th>\n      <th>No_2nd_pref<\/th>\n      <th>No_2nd_pref_offer<\/th>\n      <th>No_3rd_pref<\/th>\n      <th>No_3rd_pref_offer<\/th>\n      <th>Total<\/th>\n      <th>Total_offer<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":11,"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"School","targets":1},{"name":"No_1st_pref","targets":2},{"name":"No_1st_pref_offer","targets":3},{"name":"No_2nd_pref","targets":4},{"name":"No_2nd_pref_offer","targets":5},{"name":"No_3rd_pref","targets":6},{"name":"No_3rd_pref_offer","targets":7},{"name":"Total","targets":8},{"name":"Total_offer","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,11,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<ul>
<li>Please note that 1 additional child was allocated a place at Dorothy Stringer School in order that twins could be kept together at the same school.</li>
</ul>
</section>
<section id="section-8" class="level2">
<h2 class="anchored" data-anchor-id="section-8">2017</h2>
<p><a href="https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202017.pdf" class="uri">https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202017.pdf</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-d2c6f69d9a64af4e1441" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d2c6f69d9a64af4e1441">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11"],["Blatchington Mill","Brighton Aldridge Community Academy","Cardinal Newman","Dorothy Stringer","Hove Park","Kings School","Longhill","Patcham High","Portslade Aldridge Community Academy","Varndean","Total"],[336,90,362,459,198,124,131,211,158,304,2373],[282,90,330,327,198,94,131,185,158,228,2023],[323,22,154,455,299,123,33,90,65,482,2046],[14,9,20,3,45,4,8,12,13,35,163],[238,31,278,159,229,142,39,303,84,244,1747],[4,9,10,1,12,2,11,18,5,7,79],[897,143,794,1073,726,389,203,604,307,1030,6167],[300,108,360,331,255,100,150,215,176,270,2282]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School<\/th>\n      <th>No_1st_pref<\/th>\n      <th>No_1st_pref_offer<\/th>\n      <th>No_2nd_pref<\/th>\n      <th>No_2nd_pref_offer<\/th>\n      <th>No_3rd_pref<\/th>\n      <th>No_3rd_pref_offer<\/th>\n      <th>Total<\/th>\n      <th>Total_offer<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":11,"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"School","targets":1},{"name":"No_1st_pref","targets":2},{"name":"No_1st_pref_offer","targets":3},{"name":"No_2nd_pref","targets":4},{"name":"No_2nd_pref_offer","targets":5},{"name":"No_3rd_pref","targets":6},{"name":"No_3rd_pref_offer","targets":7},{"name":"Total","targets":8},{"name":"Total_offer","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,11,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="section-9" class="level2">
<h2 class="anchored" data-anchor-id="section-9">2016</h2>
<p><a href="https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20Factsheet%202016.pdf" class="uri">https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20Factsheet%202016.pdf</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-5f49c45029cd75b58947" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5f49c45029cd75b58947">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11"],["Blatchington Mill","Brighton Aldridge Community Academy","Cardinal Newman","Dorothy Stringer","Hove Park","Kings School","Longhill","Patcham High","Portslade Aldridge Community Academy","Varndean","Total"],[410,87,375,495,172,98,138,217,85,219,2296],[292,87,338,337,172,90,138,185,85,176,1900],[289,24,130,337,335,102,31,63,39,521,1871],[6,7,17,7,82,9,14,20,8,100,270],[189,27,330,191,224,142,33,237,58,217,1648],[2,5,5,0,19,1,11,10,1,8,62],[888,138,835,1023,731,342,202,517,182,957,5815],[300,99,360,344,273,100,163,215,94,284,2232]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School<\/th>\n      <th>No_1st_pref<\/th>\n      <th>No_1st_pref_offer<\/th>\n      <th>No_2nd_pref<\/th>\n      <th>No_2nd_pref_offer<\/th>\n      <th>No_3rd_pref<\/th>\n      <th>No_3rd_pref_offer<\/th>\n      <th>Total<\/th>\n      <th>Total_offer<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":11,"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"School","targets":1},{"name":"No_1st_pref","targets":2},{"name":"No_1st_pref_offer","targets":3},{"name":"No_2nd_pref","targets":4},{"name":"No_2nd_pref_offer","targets":5},{"name":"No_3rd_pref","targets":6},{"name":"No_3rd_pref_offer","targets":7},{"name":"Total","targets":8},{"name":"Total_offer","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,11,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="section-10" class="level2">
<h2 class="anchored" data-anchor-id="section-10">2015</h2>
<p><a href="https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202015.pdf" class="uri">https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202015.pdf</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-4769667bed3152f9f2f5" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4769667bed3152f9f2f5">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11"],["Blatchington Mill","Brighton Aldridge Community Academy","Cardinal Newman","Dorothy Stringer","Hove Park","Kings School","Longhill","Patcham High","Portslade Aldridge Community Academy","Varndean","Total"],[389,120,385,471,215,90,141,208,86,210,2315],[287,120,345,329,200,90,141,184,86,176,1958],[323,17,132,366,387,71,34,72,35,480,1917],[13,4,13,4,77,17,9,13,24,94,268],[234,39,306,189,220,108,33,250,70,233,1682],[1,6,2,4,22,14,6,13,13,7,88],[946,176,823,1026,823,269,208,530,191,923,5915],[301,130,360,337,299,121,156,210,123,277,2214]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School<\/th>\n      <th>No_1st_pref<\/th>\n      <th>No_1st_pref_offer<\/th>\n      <th>No_2nd_pref<\/th>\n      <th>No_2nd_pref_offer<\/th>\n      <th>No_3rd_pref<\/th>\n      <th>No_3rd_pref_offer<\/th>\n      <th>Total<\/th>\n      <th>Total_offer<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":11,"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"School","targets":1},{"name":"No_1st_pref","targets":2},{"name":"No_1st_pref_offer","targets":3},{"name":"No_2nd_pref","targets":4},{"name":"No_2nd_pref_offer","targets":5},{"name":"No_3rd_pref","targets":6},{"name":"No_3rd_pref_offer","targets":7},{"name":"Total","targets":8},{"name":"Total_offer","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,11,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>*** There were 14 children in the Dorothy Stringer/Varndean Catchment area who applied for both these schools but could not initially be offered a catchment area school or a higher preference. In order to accommodate these children in a catchment area school, 7 additional children were allocated each to Dorothy Stringer and Varndean schools.</p>
</section>
<section id="section-11" class="level2">
<h2 class="anchored" data-anchor-id="section-11">2014</h2>
<p><a href="https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202014.pdf" class="uri">https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202014.pdf</a></p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-2efd25f7b97e18b47c19" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2efd25f7b97e18b47c19">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11"],["Blatchington Mill","Brighton Aldridge Community Academy","Cardinal Newman","Dorothy Stringer","Hove Park","Kings School","Longhill","Patcham High","Portslade Aldridge Community Academy","Varndean","Total"],[349,68,393,493,181,105,191,209,85,216,2290],[286,68,355,316,181,105,191,179,85,165,1931],[287,18,135,414,343,54,38,67,38,495,1889],[11,5,3,15,58,7,12,11,6,95,223],[212,27,296,178,195,77,32,222,39,254,1532],[3,9,2,0,21,3,6,20,1,10,75],[848,113,824,1085,719,236,261,498,162,965,6654],[300,82,360,331,260,115,209,210,92,270,1975]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School<\/th>\n      <th>No_1st_pref<\/th>\n      <th>No_1st_pref_offer<\/th>\n      <th>No_2nd_pref<\/th>\n      <th>No_2nd_pref_offer<\/th>\n      <th>No_3rd_pref<\/th>\n      <th>No_3rd_pref_offer<\/th>\n      <th>Total<\/th>\n      <th>Total_offer<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":11,"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"School","targets":1},{"name":"No_1st_pref","targets":2},{"name":"No_1st_pref_offer","targets":3},{"name":"No_2nd_pref","targets":4},{"name":"No_2nd_pref_offer","targets":5},{"name":"No_3rd_pref","targets":6},{"name":"No_3rd_pref_offer","targets":7},{"name":"Total","targets":8},{"name":"Total_offer","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,11,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>There were 23 children In catchment area who couldn’t be offered Varndean School or a higher preference.</p>
</section>
<section id="section-12" class="level2">
<h2 class="anchored" data-anchor-id="section-12">2013</h2>
<p><a href="https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202013.pdf" class="uri">https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202013.pdf</a></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the original data frame for 2013</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>yr_7_admissions_2013 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">School =</span> <span class="fu">c</span>(<span class="st">"Blatchington Mill"</span>, <span class="st">"Brighton Aldridge Community Academy"</span>, <span class="st">"Cardinal Newman"</span>, <span class="st">"Dorothy Stringer"</span>,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Hove Park"</span>, <span class="st">"Longhill"</span>, <span class="st">"Patcham High"</span>, <span class="st">"Portslade Aldridge Community Academy"</span>, <span class="st">"Varndean"</span>, <span class="st">"Total"</span>),</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">No_1st_preferences =</span> <span class="fu">c</span>(<span class="st">"400 (285)"</span>, <span class="st">"79 (79)"</span>, <span class="st">"409 (354)"</span>, <span class="st">"507 (326)"</span>, <span class="st">"175 (175)"</span>, <span class="st">"188 (188)"</span>, </span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"186 (180)"</span>, <span class="st">"80 (80)"</span>, <span class="st">"169 (142)"</span>, <span class="st">"2193 (1809)"</span>),</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">No_2nd_preferences =</span> <span class="fu">c</span>(<span class="st">"333 (14)"</span>, <span class="st">"17 (3)"</span>, <span class="st">"129 (5)"</span>, <span class="st">"370 (4)"</span>, <span class="st">"333 (95)"</span>, <span class="st">"26 (8)"</span>, </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"65 (17)"</span>, <span class="st">"30 (9)"</span>, <span class="st">"485 (110)"</span>, <span class="st">"1788 (265)"</span>),</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">No_3rd_preferences =</span> <span class="fu">c</span>(<span class="st">"228 (1)"</span>, <span class="st">"19 (1)"</span>, <span class="st">"300 (1)"</span>, <span class="st">"182 (0)"</span>, <span class="st">"234 (29)"</span>, <span class="st">"43 (4)"</span>, </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"198 (13)"</span>, <span class="st">"62 (2)"</span>, <span class="st">"253 (18)"</span>, <span class="st">"1519 (69)"</span>),</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">Total =</span> <span class="fu">c</span>(<span class="st">"961 (300)"</span>, <span class="st">"115 (83)"</span>, <span class="st">"838 (360)"</span>, <span class="st">"1059 (330)"</span>, <span class="st">"742 (299)"</span>, <span class="st">"257 (200)"</span>, </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">"449 (210)"</span>, <span class="st">"172 (91)"</span>, <span class="st">"907 (270)"</span>, <span class="st">"5500 (2143)"</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Separate numbers and actual values in brackets into their own columns with new names</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>yr_7_admissions_2013 <span class="ot">&lt;-</span> yr_7_admissions_2013 <span class="sc">%&gt;%</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(No_1st_preferences, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"No_1st_pref"</span>, <span class="st">"No_1st_pref_offer"</span>), <span class="at">sep =</span> <span class="st">" </span><span class="sc">\\</span><span class="st">("</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(No_2nd_preferences, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"No_2nd_pref"</span>, <span class="st">"No_2nd_pref_offer"</span>), <span class="at">sep =</span> <span class="st">" </span><span class="sc">\\</span><span class="st">("</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(No_3rd_preferences, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"No_3rd_pref"</span>, <span class="st">"No_3rd_pref_offer"</span>), <span class="at">sep =</span> <span class="st">" </span><span class="sc">\\</span><span class="st">("</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(Total, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"Total"</span>, <span class="st">"Total_offer"</span>), <span class="at">sep =</span> <span class="st">" </span><span class="sc">\\</span><span class="st">("</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove closing parenthesis from actual values</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>yr_7_admissions_2013 <span class="ot">&lt;-</span> yr_7_admissions_2013 <span class="sc">%&gt;%</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">No_1st_pref_offer =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, No_1st_pref_offer)),</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">No_2nd_pref_offer =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, No_2nd_pref_offer)),</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">No_3rd_pref_offer =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, No_3rd_pref_offer)),</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">Total_offer =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, Total_offer))</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Create DT table</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(yr_7_admissions_2013, <span class="at">extensions =</span> <span class="st">'Buttons'</span>, <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">11</span>,</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'Bfrtip'</span>,</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">buttons =</span> <span class="fu">c</span>(<span class="st">'copy'</span>, <span class="st">'csv'</span>, <span class="st">'excel'</span>, <span class="st">'pdf'</span>, <span class="st">'print'</span>)</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-fc3c8739daba8959bbbb" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-fc3c8739daba8959bbbb">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10"],["Blatchington Mill","Brighton Aldridge Community Academy","Cardinal Newman","Dorothy Stringer","Hove Park","Longhill","Patcham High","Portslade Aldridge Community Academy","Varndean","Total"],[400,79,409,507,175,188,186,80,169,2193],[285,79,354,326,175,188,180,80,142,1809],[333,17,129,370,333,26,65,30,485,1788],[14,3,5,4,95,8,17,9,110,265],[228,19,300,182,234,43,198,62,253,1519],[1,1,1,0,29,4,13,2,18,69],[961,115,838,1059,742,257,449,172,907,5500],[300,83,360,330,299,200,210,91,270,2143]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School<\/th>\n      <th>No_1st_pref<\/th>\n      <th>No_1st_pref_offer<\/th>\n      <th>No_2nd_pref<\/th>\n      <th>No_2nd_pref_offer<\/th>\n      <th>No_3rd_pref<\/th>\n      <th>No_3rd_pref_offer<\/th>\n      <th>Total<\/th>\n      <th>Total_offer<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":11,"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"School","targets":1},{"name":"No_1st_pref","targets":2},{"name":"No_1st_pref_offer","targets":3},{"name":"No_2nd_pref","targets":4},{"name":"No_2nd_pref_offer","targets":5},{"name":"No_3rd_pref","targets":6},{"name":"No_3rd_pref_offer","targets":7},{"name":"Total","targets":8},{"name":"Total_offer","targets":9}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,11,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>2012</p>
<p>2011</p>
<p><a href="https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/downloads/education/3740_school_booklets_secondary_AW_final.pdf" class="uri">https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/downloads/education/3740_school_booklets_secondary_AW_final.pdf</a></p>
<p>2010</p>
<p><a href="https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/downloads/education/Secondary_School_Admissions_2011-12.pdf" class="uri">https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/downloads/education/Secondary_School_Admissions_2011-12.pdf</a></p>
<p>2009</p>
<p>2008</p>
<p><a href="https://democracy.brighton-hove.gov.uk/documents/s2224/Item%2048-Appendix1.pdf" class="uri">https://democracy.brighton-hove.gov.uk/documents/s2224/Item%2048-Appendix1.pdf</a></p>
<p>2007</p>
<p><a href="https://democracy.brighton-hove.gov.uk/documents/s2224/Item%2048-Appendix1.pdf" class="uri">https://democracy.brighton-hove.gov.uk/documents/s2224/Item%2048-Appendix1.pdf</a></p>
<p>Tidy all of these into a single dataframe:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># List of data frames</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>data_frames <span class="ot">&lt;-</span> <span class="fu">list</span>(yr_7_admissions_2013, yr_7_admissions_2014, yr_7_admissions_2015, yr_7_admissions_2016, yr_7_admissions_2017,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                    yr_7_admissions_2018, yr_7_admissions_2019, yr_7_admissions_2020, yr_7_admissions_2021,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                    yr_7_admissions_2022, yr_7_admissions_2023, yr_7_admissions_2024, yr_7_admissions_2025)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign years to each data frame</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="dv">2013</span><span class="sc">:</span><span class="dv">2025</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine data frames with a year column</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(<span class="fu">lapply</span>(<span class="fu">seq_along</span>(data_frames), <span class="cf">function</span>(i) {</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(data_frames[[i]], <span class="at">Year =</span> years[i])</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>}))</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Reshape to long format</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>combined_data_long <span class="ot">&lt;-</span> combined_data <span class="sc">%&gt;%</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(School, Year, No_1st_pref, No_1st_pref_offer, No_2nd_pref, No_2nd_pref_offer,</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>         No_3rd_pref, No_3rd_pref_offer, Total, Total_offer)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Arrange the data</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>combined_data_long <span class="ot">&lt;-</span> combined_data_long <span class="sc">%&gt;%</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Year, School)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="co"># View the combined long format data</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="co">#print(combined_data_long)</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Update school names to ensure consistency</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>combined_data_long <span class="ot">&lt;-</span> combined_data_long <span class="sc">%&gt;%</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">School =</span> <span class="fu">ifelse</span>(School <span class="sc">==</span> <span class="st">"Longhill"</span>, <span class="st">"Longhill High"</span>, School))</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify the changes</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(combined_data_long<span class="sc">$</span>School)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Blatchington Mill"                   
 [2] "Brighton Aldridge Community Academy" 
 [3] "Cardinal Newman"                     
 [4] "Dorothy Stringer"                    
 [5] "Hove Park"                           
 [6] "Longhill High"                       
 [7] "Patcham High"                        
 [8] "Portslade Aldridge Community Academy"
 [9] "Total"                               
[10] "Varndean"                            
[11] "Kings School"                        </code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_processing_scripts_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_processing_scripts_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_processing_scripts_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_processing_scripts_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_processing_scripts_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_processing_scripts_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb4" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Data Processing Scripts"</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Adam Dennett"</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">## Processed Allocation Factsheets 2014-2025</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2025</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo=F, message=F, warning=F}</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="in"># Load necessary libraries</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="in">library(DT)</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the data frame for Year 7 admissions 2025</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2025 &lt;- data.frame(</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="in">  School = c("Blatchington Mill", "Brighton Aldridge Community Academy", "Cardinal Newman", "Dorothy Stringer",</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="in">             "Hove Park", "Kings School", "Longhill High", "Patcham High", "Portslade Aldridge Community Academy", </span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="in">             "Varndean", "Total"),</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="in">  No_1st_pref = c("258 (244)", "83 (83)", "523 (349)", "215 (186)", "130 (130)", "252 (170)", </span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="in">                            "74 (74)", "166 (166)", "175 (175)", "427 (284)", "2303 (1861)"),</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="in">  No_2nd_pref = c("273 (61)", "37 (5)", "239 (11)", "479 (127)", "242 (27)", "280 (10)", </span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="in">                            "39 (17)", "74 (18)", "87 (12)", "390 (13)", "2140 (301)"),</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="in">  No_3rd_pref = c("303 (25)", "33 (1)", "319 (0)", "228 (17)", "274 (14)", "219 (0)", </span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="in">                            "36 (1)", "235 (18)", "70 (3)", "192 (3)", "1911 (87)"),</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="in">  Total = c("834 (330)", "153 (89)", "1081 (360)", "922 (330)", "646 (171)", "751 (180)", </span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="in">            "151 (97)", "475 (202)", "332 (190)", "1009 (300)", "6354 (2249)")</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="in"># Separate numbers and actual values in brackets into their own columns</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2025 &lt;- yr_7_admissions_2025 %&gt;%</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_1st_pref, into = c("No_1st_pref", "No_1st_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_2nd_pref, into = c("No_2nd_pref", "No_2nd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_3rd_pref, into = c("No_3rd_pref", "No_3rd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Total, into = c("Total", "Total_offer"), sep = " \\(", convert = TRUE)</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2025 &lt;- yr_7_admissions_2025 %&gt;%</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a><span class="in">    No_1st_pref_offer = as.numeric(gsub("\\)", "", No_1st_pref_offer)),</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a><span class="in">    No_2nd_pref_offer = as.numeric(gsub("\\)", "", No_2nd_pref_offer)),</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a><span class="in">    No_3rd_pref_offer = as.numeric(gsub("\\)", "", No_3rd_pref_offer)),</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a><span class="in">    Total_offer = as.numeric(gsub("\\)", "", Total_offer))</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a><span class="in"># Create DT table</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a><span class="in">datatable(yr_7_admissions_2025, extensions = 'Buttons', options = list(</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a><span class="in">    pageLength = 11,</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a><span class="in">    dom = 'Bfrtip',</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a><span class="in">    buttons = c('copy', 'csv', 'excel', 'pdf', 'print')</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://www.brighton-hove.gov.uk/children-and-learning/allocation-factsheet-year-7-places-september-2025&gt;</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2024</span></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://www.brighton-hove.gov.uk/allocation-factsheet-year-7-places-september-2024&gt;</span></span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the original data frame</span></span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2024 &lt;- data.frame(</span></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a><span class="in">  School = c("Blatchington Mill", "Brighton Aldridge Community Academy", "Cardinal Newman", "Dorothy Stringer",</span></span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a><span class="in">             "Hove Park", "Kings School", "Longhill High", "Patcham High", "Portslade Aldridge Community Academy", </span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a><span class="in">             "Varndean", "Total"),</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a><span class="in">  No_1st_pref = c("279 (243)", "73 (73)", "466 (347)", "234 (199)", "110 (110)", "242 (159)", </span></span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a><span class="in">                            "80 (80)", "210 (182)", "129 (129)", "456 (293)", "2279 (1815)"),</span></span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a><span class="in">  No_2nd_pref = c("268 (69)", "27 (6)", "203 (12)", "518 (111)", "252 (41)", "224 (6)", </span></span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a><span class="in">                            "30 (9)", "89 (23)", "105 (38)", "394 (7)", "2110 (322)"),</span></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a><span class="in">  No_3rd_pref = c("224 (18)", "39 (5)", "272 (1)", "262 (20)", "244 (19)", "202 (0)", </span></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a><span class="in">                            "39 (5)", "253 (20)", "77 (4)", "209 (0)", "1821 (92)"),</span></span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a><span class="in">  Total = c("771 (330)", "139 (84)", "941 (360)", "1014 (330)", "606 (170)", "668 (165)", </span></span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a><span class="in">            "149 (94)", "552 (225)", "311 (171)", "1059 (300)", "6210 (2259)")</span></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a><span class="in"># Separate numbers and actual values in brackets into their own columns</span></span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2024 &lt;- yr_7_admissions_2024 %&gt;%</span></span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_1st_pref, into = c("No_1st_pref", "No_1st_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_2nd_pref, into = c("No_2nd_pref", "No_2nd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_3rd_pref, into = c("No_3rd_pref", "No_3rd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Total, into = c("Total", "Total_offer"), sep = " \\(", convert = TRUE)</span></span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2024 &lt;- yr_7_admissions_2024 %&gt;%</span></span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a><span class="in">    No_1st_pref_offer = as.numeric(gsub("\\)", "", No_1st_pref_offer)),</span></span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a><span class="in">    No_2nd_pref_offer = as.numeric(gsub("\\)", "", No_2nd_pref_offer)),</span></span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a><span class="in">    No_3rd_pref_offer = as.numeric(gsub("\\)", "", No_3rd_pref_offer)),</span></span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a><span class="in">    Total_offer = as.numeric(gsub("\\)", "", Total_offer))</span></span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a><span class="in"># Create DT table</span></span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a><span class="in">datatable(yr_7_admissions_2024, extensions = 'Buttons', options = list(</span></span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a><span class="in">    pageLength = 11,</span></span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a><span class="in">    dom = 'Bfrtip',</span></span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a><span class="in">    buttons = c('copy', 'csv', 'excel', 'pdf', 'print')</span></span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a>Any child living within Brighton &amp; Hove who was not offered a place at one of their preferred schools would have been offered a place at the nearest school with places available.</span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-112"><a href="#cb4-112" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2023</span></span>
<span id="cb4-113"><a href="#cb4-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-114"><a href="#cb4-114" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://www.brighton-hove.gov.uk/children-and-learning/allocation-factsheet-year-7-places-september-2023&gt;</span></span>
<span id="cb4-115"><a href="#cb4-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-116"><a href="#cb4-116" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-117"><a href="#cb4-117" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb4-118"><a href="#cb4-118" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb4-119"><a href="#cb4-119" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb4-120"><a href="#cb4-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-121"><a href="#cb4-121" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the original data frame</span></span>
<span id="cb4-122"><a href="#cb4-122" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2023 &lt;- data.frame(</span></span>
<span id="cb4-123"><a href="#cb4-123" aria-hidden="true" tabindex="-1"></a><span class="in">  School = c("Blatchington Mill", "Brighton Aldridge Community Academy", "Cardinal Newman", "Dorothy Stringer",</span></span>
<span id="cb4-124"><a href="#cb4-124" aria-hidden="true" tabindex="-1"></a><span class="in">             "Hove Park", "Kings School", "Longhill", "Patcham High", "Portslade Aldridge Community Academy", </span></span>
<span id="cb4-125"><a href="#cb4-125" aria-hidden="true" tabindex="-1"></a><span class="in">             "Varndean", "Total"),</span></span>
<span id="cb4-126"><a href="#cb4-126" aria-hidden="true" tabindex="-1"></a><span class="in">  No_1st_pref = c("300 (260)", "92 (92)", "451 (351)", "260 (242)", "158 (132)", "241 (162)", </span></span>
<span id="cb4-127"><a href="#cb4-127" aria-hidden="true" tabindex="-1"></a><span class="in">                            "134 (134)", "203 (196)", "154 (154)", "409 (292)", "2402 (2015)"),</span></span>
<span id="cb4-128"><a href="#cb4-128" aria-hidden="true" tabindex="-1"></a><span class="in">  No_2nd_pref = c("309 (61)", "34 (5)", "189 (9)", "516 (81)", "298 (40)", "229 (3)", </span></span>
<span id="cb4-129"><a href="#cb4-129" aria-hidden="true" tabindex="-1"></a><span class="in">                            "38 (14)", "87 (17)", "79 (26)", "423 (8)", "2202 (264)"),</span></span>
<span id="cb4-130"><a href="#cb4-130" aria-hidden="true" tabindex="-1"></a><span class="in">  No_3rd_pref = c("231 (9)", "34 (3)", "297 (0)", "232 (7)", "258 (8)", "198 (0)", </span></span>
<span id="cb4-131"><a href="#cb4-131" aria-hidden="true" tabindex="-1"></a><span class="in">                            "27 (4)", "292 (12)", "113 (20)", "233 (0)", "1915 (63)"),</span></span>
<span id="cb4-132"><a href="#cb4-132" aria-hidden="true" tabindex="-1"></a><span class="in">  Total = c("840 (330)", "160 (100)", "937 (360)", "1008 (330)", "714 (180)", "668 (165)", </span></span>
<span id="cb4-133"><a href="#cb4-133" aria-hidden="true" tabindex="-1"></a><span class="in">            "199 (152)", "582 (225)", "346 (200)", "1065 (300)", "6789 (2407)")</span></span>
<span id="cb4-134"><a href="#cb4-134" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-135"><a href="#cb4-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-136"><a href="#cb4-136" aria-hidden="true" tabindex="-1"></a><span class="in"># Separate numbers and actual values in brackets into their own columns</span></span>
<span id="cb4-137"><a href="#cb4-137" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2023 &lt;- yr_7_admissions_2023 %&gt;%</span></span>
<span id="cb4-138"><a href="#cb4-138" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_1st_pref, into = c("No_1st_pref", "No_1st_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-139"><a href="#cb4-139" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_2nd_pref, into = c("No_2nd_pref", "No_2nd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-140"><a href="#cb4-140" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_3rd_pref, into = c("No_3rd_pref", "No_3rd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-141"><a href="#cb4-141" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Total, into = c("Total", "Total_offer"), sep = " \\(", convert = TRUE)</span></span>
<span id="cb4-142"><a href="#cb4-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-143"><a href="#cb4-143" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-144"><a href="#cb4-144" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2023 &lt;- yr_7_admissions_2023 %&gt;%</span></span>
<span id="cb4-145"><a href="#cb4-145" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb4-146"><a href="#cb4-146" aria-hidden="true" tabindex="-1"></a><span class="in">    No_1st_pref_offer = as.numeric(gsub("\\)", "", No_1st_pref_offer)),</span></span>
<span id="cb4-147"><a href="#cb4-147" aria-hidden="true" tabindex="-1"></a><span class="in">    No_2nd_pref_offer = as.numeric(gsub("\\)", "", No_2nd_pref_offer)),</span></span>
<span id="cb4-148"><a href="#cb4-148" aria-hidden="true" tabindex="-1"></a><span class="in">    No_3rd_pref_offer = as.numeric(gsub("\\)", "", No_3rd_pref_offer)),</span></span>
<span id="cb4-149"><a href="#cb4-149" aria-hidden="true" tabindex="-1"></a><span class="in">    Total_offer = as.numeric(gsub("\\)", "", Total_offer))</span></span>
<span id="cb4-150"><a href="#cb4-150" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-151"><a href="#cb4-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-152"><a href="#cb4-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-153"><a href="#cb4-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-154"><a href="#cb4-154" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-155"><a href="#cb4-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-156"><a href="#cb4-156" aria-hidden="true" tabindex="-1"></a>Any child living within Brighton &amp; Hove who was not offered a place at one of their preferred schools would have been offered a place at the nearest school with places available.</span>
<span id="cb4-157"><a href="#cb4-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-158"><a href="#cb4-158" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2022</span></span>
<span id="cb4-159"><a href="#cb4-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-160"><a href="#cb4-160" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://www.brighton-hove.gov.uk/schools-and-learning/apply-school/allocation-factsheet-year-7-places-september-2022&gt;</span></span>
<span id="cb4-161"><a href="#cb4-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-162"><a href="#cb4-162" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-163"><a href="#cb4-163" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb4-164"><a href="#cb4-164" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb4-165"><a href="#cb4-165" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb4-166"><a href="#cb4-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-167"><a href="#cb4-167" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the original data frame</span></span>
<span id="cb4-168"><a href="#cb4-168" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2022 &lt;- data.frame(</span></span>
<span id="cb4-169"><a href="#cb4-169" aria-hidden="true" tabindex="-1"></a><span class="in">  School = c("Blatchington Mill", "Brighton Aldridge Community Academy", "Cardinal Newman", "Dorothy Stringer",</span></span>
<span id="cb4-170"><a href="#cb4-170" aria-hidden="true" tabindex="-1"></a><span class="in">             "Hove Park", "Kings School", "Longhill", "Patcham High", "Portslade Aldridge Community Academy", </span></span>
<span id="cb4-171"><a href="#cb4-171" aria-hidden="true" tabindex="-1"></a><span class="in">             "Varndean", "Total"),</span></span>
<span id="cb4-172"><a href="#cb4-172" aria-hidden="true" tabindex="-1"></a><span class="in">  No_1st_pref = c("292 (270)", "121 (121)", "381 (342)", "291 (258)", "115 (115)", "232 (160)", </span></span>
<span id="cb4-173"><a href="#cb4-173" aria-hidden="true" tabindex="-1"></a><span class="in">                            "104 (104)", "218 (197)", "166 (166)", "444 (303)", "2364 (2034)"),</span></span>
<span id="cb4-174"><a href="#cb4-174" aria-hidden="true" tabindex="-1"></a><span class="in">  No_2nd_pref = c("299 (50)", "37 (8)", "182 (16)", "537 (87)", "246 (24)", "234 (3)", </span></span>
<span id="cb4-175"><a href="#cb4-175" aria-hidden="true" tabindex="-1"></a><span class="in">                            "39 (10)", "80 (12)", "106 (26)", "435 (6)", "2195 (245)"),</span></span>
<span id="cb4-176"><a href="#cb4-176" aria-hidden="true" tabindex="-1"></a><span class="in">  No_3rd_pref = c("235 (10)", "77 (3)", "293 (2)", "226 (4)", "235 (10)", "203 (2)", </span></span>
<span id="cb4-177"><a href="#cb4-177" aria-hidden="true" tabindex="-1"></a><span class="in">                            "45 (8)", "320 (16)", "84 (2)", "212 (1)", "1930 (57)"),</span></span>
<span id="cb4-178"><a href="#cb4-178" aria-hidden="true" tabindex="-1"></a><span class="in">  Total = c("826 (330)", "235 (132)", "856 (360)", "1054 (349)", "596 (149)", "669 (165)", </span></span>
<span id="cb4-179"><a href="#cb4-179" aria-hidden="true" tabindex="-1"></a><span class="in">            "188 (122)", "618 (225)", "356 (194)", "1091 (310)", "6789 (2407)")</span></span>
<span id="cb4-180"><a href="#cb4-180" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-181"><a href="#cb4-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-182"><a href="#cb4-182" aria-hidden="true" tabindex="-1"></a><span class="in"># Separate numbers and actual values in brackets into their own columns</span></span>
<span id="cb4-183"><a href="#cb4-183" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2022 &lt;- yr_7_admissions_2022 %&gt;%</span></span>
<span id="cb4-184"><a href="#cb4-184" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_1st_pref, into = c("No_1st_pref", "No_1st_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-185"><a href="#cb4-185" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_2nd_pref, into = c("No_2nd_pref", "No_2nd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-186"><a href="#cb4-186" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_3rd_pref, into = c("No_3rd_pref", "No_3rd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-187"><a href="#cb4-187" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Total, into = c("Total", "Total_offer"), sep = " \\(", convert = TRUE)</span></span>
<span id="cb4-188"><a href="#cb4-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-189"><a href="#cb4-189" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-190"><a href="#cb4-190" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2022 &lt;- yr_7_admissions_2022 %&gt;%</span></span>
<span id="cb4-191"><a href="#cb4-191" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb4-192"><a href="#cb4-192" aria-hidden="true" tabindex="-1"></a><span class="in">    No_1st_pref_offer = as.numeric(gsub("\\)", "", No_1st_pref_offer)),</span></span>
<span id="cb4-193"><a href="#cb4-193" aria-hidden="true" tabindex="-1"></a><span class="in">    No_2nd_pref_offer = as.numeric(gsub("\\)", "", No_2nd_pref_offer)),</span></span>
<span id="cb4-194"><a href="#cb4-194" aria-hidden="true" tabindex="-1"></a><span class="in">    No_3rd_pref_offer = as.numeric(gsub("\\)", "", No_3rd_pref_offer)),</span></span>
<span id="cb4-195"><a href="#cb4-195" aria-hidden="true" tabindex="-1"></a><span class="in">    Total_offer = as.numeric(gsub("\\)", "", Total_offer))</span></span>
<span id="cb4-196"><a href="#cb4-196" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-197"><a href="#cb4-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-198"><a href="#cb4-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-199"><a href="#cb4-199" aria-hidden="true" tabindex="-1"></a><span class="in"># Create DT table</span></span>
<span id="cb4-200"><a href="#cb4-200" aria-hidden="true" tabindex="-1"></a><span class="in">datatable(yr_7_admissions_2022, extensions = 'Buttons', options = list(</span></span>
<span id="cb4-201"><a href="#cb4-201" aria-hidden="true" tabindex="-1"></a><span class="in">    pageLength = 11,</span></span>
<span id="cb4-202"><a href="#cb4-202" aria-hidden="true" tabindex="-1"></a><span class="in">    dom = 'Bfrtip',</span></span>
<span id="cb4-203"><a href="#cb4-203" aria-hidden="true" tabindex="-1"></a><span class="in">    buttons = c('copy', 'csv', 'excel', 'pdf', 'print')</span></span>
<span id="cb4-204"><a href="#cb4-204" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-205"><a href="#cb4-205" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-206"><a href="#cb4-206" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-207"><a href="#cb4-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-208"><a href="#cb4-208" aria-hidden="true" tabindex="-1"></a>There were 29 children in the Dorothy Stringer/Varndean Catchment area who applied for both these schools but could not initially be offered a catchment area school or a higher preference. To accommodate these children in a catchment area school, 19 additional children were allocated to Dorothy Stringer and 10 to Varndean school.</span>
<span id="cb4-209"><a href="#cb4-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-210"><a href="#cb4-210" aria-hidden="true" tabindex="-1"></a>All children living in the Dorothy Stringer/Varndean catchment who expressed a preference for both catchment schools were offered a place at a catchment school or a higher preference.</span>
<span id="cb4-211"><a href="#cb4-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-212"><a href="#cb4-212" aria-hidden="true" tabindex="-1"></a>The Published Admissions Number (PAN) for Dorothy Stringer and Varndean school will remain at 330 and 300 respectively.</span>
<span id="cb4-213"><a href="#cb4-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-214"><a href="#cb4-214" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2021</span></span>
<span id="cb4-215"><a href="#cb4-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-216"><a href="#cb4-216" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://www.brighton-hove.gov.uk/schools-and-learning/apply-school/allocation-factsheet-year-7-places-september-2021&gt;</span></span>
<span id="cb4-217"><a href="#cb4-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-218"><a href="#cb4-218" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-219"><a href="#cb4-219" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb4-220"><a href="#cb4-220" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb4-221"><a href="#cb4-221" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb4-222"><a href="#cb4-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-223"><a href="#cb4-223" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the original data frame</span></span>
<span id="cb4-224"><a href="#cb4-224" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2021 &lt;- data.frame(</span></span>
<span id="cb4-225"><a href="#cb4-225" aria-hidden="true" tabindex="-1"></a><span class="in">  School = c("Blatchington Mill", "Brighton Aldridge Community Academy", "Cardinal Newman", "Dorothy Stringer",</span></span>
<span id="cb4-226"><a href="#cb4-226" aria-hidden="true" tabindex="-1"></a><span class="in">             "Hove Park", "Kings School", "Longhill", "Patcham High", "Portslade Aldridge Community Academy", </span></span>
<span id="cb4-227"><a href="#cb4-227" aria-hidden="true" tabindex="-1"></a><span class="in">             "Varndean", "Total"),</span></span>
<span id="cb4-228"><a href="#cb4-228" aria-hidden="true" tabindex="-1"></a><span class="in">  No_1st_pref = c("400 (284)", "116 (116)", "414 (340)", "386 (306)", "116 (116)", "235 (150)", </span></span>
<span id="cb4-229"><a href="#cb4-229" aria-hidden="true" tabindex="-1"></a><span class="in">                            "145 (145)", "211 (193)", "165 (165)", "386 (296)", "2574 (2111)"),</span></span>
<span id="cb4-230"><a href="#cb4-230" aria-hidden="true" tabindex="-1"></a><span class="in">  No_2nd_pref = c("320 (40)", "46 (9)", "226 (18)", "493 (23)", "310 (101)", "258 (14)", </span></span>
<span id="cb4-231"><a href="#cb4-231" aria-hidden="true" tabindex="-1"></a><span class="in">                            "35 (12)", "83 (15)", "90 (16)", "492 (4)", "2353 (252)"),</span></span>
<span id="cb4-232"><a href="#cb4-232" aria-hidden="true" tabindex="-1"></a><span class="in">  No_3rd_pref = c("278 (6)", "49 (16)", "321 (2)", "227 (1)", "249 (30)", "280 (1)", </span></span>
<span id="cb4-233"><a href="#cb4-233" aria-hidden="true" tabindex="-1"></a><span class="in">                            "46 (10)", "252 (17)", "102 (5)", "208 (0)", "2012 (88)"),</span></span>
<span id="cb4-234"><a href="#cb4-234" aria-hidden="true" tabindex="-1"></a><span class="in">  Total = c("998 (330)", "211 (141)", "961 (360)", "1106 (330)", "675 (247)", "773 (165)", </span></span>
<span id="cb4-235"><a href="#cb4-235" aria-hidden="true" tabindex="-1"></a><span class="in">            "226 (167)", "546 (225)", "357 (186)", "1086 (300)", "6939 (2501)")</span></span>
<span id="cb4-236"><a href="#cb4-236" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-237"><a href="#cb4-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-238"><a href="#cb4-238" aria-hidden="true" tabindex="-1"></a><span class="in"># Separate numbers and actual values in brackets into their own columns</span></span>
<span id="cb4-239"><a href="#cb4-239" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2021 &lt;- yr_7_admissions_2021 %&gt;%</span></span>
<span id="cb4-240"><a href="#cb4-240" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_1st_pref, into = c("No_1st_pref", "No_1st_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-241"><a href="#cb4-241" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_2nd_pref, into = c("No_2nd_pref", "No_2nd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-242"><a href="#cb4-242" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_3rd_pref, into = c("No_3rd_pref", "No_3rd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-243"><a href="#cb4-243" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Total, into = c("Total", "Total_offer"), sep = " \\(", convert = TRUE)</span></span>
<span id="cb4-244"><a href="#cb4-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-245"><a href="#cb4-245" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-246"><a href="#cb4-246" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2021 &lt;- yr_7_admissions_2021 %&gt;%</span></span>
<span id="cb4-247"><a href="#cb4-247" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb4-248"><a href="#cb4-248" aria-hidden="true" tabindex="-1"></a><span class="in">    No_1st_pref_offer = as.numeric(gsub("\\)", "", No_1st_pref_offer)),</span></span>
<span id="cb4-249"><a href="#cb4-249" aria-hidden="true" tabindex="-1"></a><span class="in">    No_2nd_pref_offer = as.numeric(gsub("\\)", "", No_2nd_pref_offer)),</span></span>
<span id="cb4-250"><a href="#cb4-250" aria-hidden="true" tabindex="-1"></a><span class="in">    No_3rd_pref_offer = as.numeric(gsub("\\)", "", No_3rd_pref_offer)),</span></span>
<span id="cb4-251"><a href="#cb4-251" aria-hidden="true" tabindex="-1"></a><span class="in">    Total_offer = as.numeric(gsub("\\)", "", Total_offer))</span></span>
<span id="cb4-252"><a href="#cb4-252" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-253"><a href="#cb4-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-254"><a href="#cb4-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-255"><a href="#cb4-255" aria-hidden="true" tabindex="-1"></a><span class="in"># Create DT table</span></span>
<span id="cb4-256"><a href="#cb4-256" aria-hidden="true" tabindex="-1"></a><span class="in">datatable(yr_7_admissions_2021, extensions = 'Buttons', options = list(</span></span>
<span id="cb4-257"><a href="#cb4-257" aria-hidden="true" tabindex="-1"></a><span class="in">    pageLength = 11,</span></span>
<span id="cb4-258"><a href="#cb4-258" aria-hidden="true" tabindex="-1"></a><span class="in">    dom = 'Bfrtip',</span></span>
<span id="cb4-259"><a href="#cb4-259" aria-hidden="true" tabindex="-1"></a><span class="in">    buttons = c('copy', 'csv', 'excel', 'pdf', 'print')</span></span>
<span id="cb4-260"><a href="#cb4-260" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-261"><a href="#cb4-261" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-262"><a href="#cb4-262" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-263"><a href="#cb4-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-264"><a href="#cb4-264" aria-hidden="true" tabindex="-1"></a>There were 62 children in the Dorothy Stringer/Varndean Catchment area who couldn’t be offered a catchment area school or a higher preference. Of these 62 children, 44 expressed preferences for both catchment area schools.</span>
<span id="cb4-265"><a href="#cb4-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-266"><a href="#cb4-266" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2020</span></span>
<span id="cb4-267"><a href="#cb4-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-268"><a href="#cb4-268" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://www.brighton-hove.gov.uk/schools-and-learning/apply-school/allocation-factsheet-year-7-places-september-2020&gt;</span></span>
<span id="cb4-269"><a href="#cb4-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-270"><a href="#cb4-270" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-271"><a href="#cb4-271" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb4-272"><a href="#cb4-272" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb4-273"><a href="#cb4-273" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb4-274"><a href="#cb4-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-275"><a href="#cb4-275" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the original data frame for 2020</span></span>
<span id="cb4-276"><a href="#cb4-276" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2020 &lt;- data.frame(</span></span>
<span id="cb4-277"><a href="#cb4-277" aria-hidden="true" tabindex="-1"></a><span class="in">  School = c("Blatchington Mill", "Brighton Aldridge Community Academy", "Cardinal Newman", "Dorothy Stringer",</span></span>
<span id="cb4-278"><a href="#cb4-278" aria-hidden="true" tabindex="-1"></a><span class="in">             "Hove Park", "Kings School", "Longhill", "Patcham High", "Portslade Aldridge Community Academy", </span></span>
<span id="cb4-279"><a href="#cb4-279" aria-hidden="true" tabindex="-1"></a><span class="in">             "Varndean", "Total"),</span></span>
<span id="cb4-280"><a href="#cb4-280" aria-hidden="true" tabindex="-1"></a><span class="in">  No_1st_preferences = c("350 (279)", "89 (89)", "349 (311)", "438 (357)", "80 (80)", "253 (145)", </span></span>
<span id="cb4-281"><a href="#cb4-281" aria-hidden="true" tabindex="-1"></a><span class="in">                         "159 (159)", "219 (206)", "174 (174)", "307 (268)", "2418 (2068)"),</span></span>
<span id="cb4-282"><a href="#cb4-282" aria-hidden="true" tabindex="-1"></a><span class="in">  No_2nd_preferences = c("281 (45)", "50 (7)", "221 (39)", "489 (7)", "227 (33)", "282 (5)", </span></span>
<span id="cb4-283"><a href="#cb4-283" aria-hidden="true" tabindex="-1"></a><span class="in">                         "38 (11)", "65 (11)", "95 (21)", "530 (36)", "2278 (215)"),</span></span>
<span id="cb4-284"><a href="#cb4-284" aria-hidden="true" tabindex="-1"></a><span class="in">  No_3rd_preferences = c("237 (6)", "62 (10)", "326 (10)", "203 (0)", "281 (24)", "257 (0)", </span></span>
<span id="cb4-285"><a href="#cb4-285" aria-hidden="true" tabindex="-1"></a><span class="in">                         "38 (7)", "304 (8)", "77 (8)", "231 (0)", "2016 (73)"),</span></span>
<span id="cb4-286"><a href="#cb4-286" aria-hidden="true" tabindex="-1"></a><span class="in">  Total = c("868 (330)", "201 (106)", "896 (360)", "1130 (364)", "588 (137)", "792 (150)", </span></span>
<span id="cb4-287"><a href="#cb4-287" aria-hidden="true" tabindex="-1"></a><span class="in">            "235 (177)", "588 (225)", "346 (203)", "1068 (304)", "")</span></span>
<span id="cb4-288"><a href="#cb4-288" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-289"><a href="#cb4-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-290"><a href="#cb4-290" aria-hidden="true" tabindex="-1"></a><span class="in"># Separate numbers and actual values in brackets into their own columns with new names</span></span>
<span id="cb4-291"><a href="#cb4-291" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2020 &lt;- yr_7_admissions_2020 %&gt;%</span></span>
<span id="cb4-292"><a href="#cb4-292" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_1st_preferences, into = c("No_1st_pref", "No_1st_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-293"><a href="#cb4-293" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_2nd_preferences, into = c("No_2nd_pref", "No_2nd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-294"><a href="#cb4-294" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_3rd_preferences, into = c("No_3rd_pref", "No_3rd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-295"><a href="#cb4-295" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Total, into = c("Total", "Total_offer"), sep = " \\(", convert = TRUE)</span></span>
<span id="cb4-296"><a href="#cb4-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-297"><a href="#cb4-297" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-298"><a href="#cb4-298" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2020 &lt;- yr_7_admissions_2020 %&gt;%</span></span>
<span id="cb4-299"><a href="#cb4-299" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb4-300"><a href="#cb4-300" aria-hidden="true" tabindex="-1"></a><span class="in">    No_1st_pref_offer = as.numeric(gsub("\\)", "", No_1st_pref_offer)),</span></span>
<span id="cb4-301"><a href="#cb4-301" aria-hidden="true" tabindex="-1"></a><span class="in">    No_2nd_pref_offer = as.numeric(gsub("\\)", "", No_2nd_pref_offer)),</span></span>
<span id="cb4-302"><a href="#cb4-302" aria-hidden="true" tabindex="-1"></a><span class="in">    No_3rd_pref_offer = as.numeric(gsub("\\)", "", No_3rd_pref_offer)),</span></span>
<span id="cb4-303"><a href="#cb4-303" aria-hidden="true" tabindex="-1"></a><span class="in">    Total_offer = as.numeric(gsub("\\)", "", Total_offer))</span></span>
<span id="cb4-304"><a href="#cb4-304" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-305"><a href="#cb4-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-306"><a href="#cb4-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-307"><a href="#cb4-307" aria-hidden="true" tabindex="-1"></a><span class="in"># Create DT table</span></span>
<span id="cb4-308"><a href="#cb4-308" aria-hidden="true" tabindex="-1"></a><span class="in">datatable(yr_7_admissions_2020, extensions = 'Buttons', options = list(</span></span>
<span id="cb4-309"><a href="#cb4-309" aria-hidden="true" tabindex="-1"></a><span class="in">    pageLength = 11,</span></span>
<span id="cb4-310"><a href="#cb4-310" aria-hidden="true" tabindex="-1"></a><span class="in">    dom = 'Bfrtip',</span></span>
<span id="cb4-311"><a href="#cb4-311" aria-hidden="true" tabindex="-1"></a><span class="in">    buttons = c('copy', 'csv', 'excel', 'pdf', 'print')</span></span>
<span id="cb4-312"><a href="#cb4-312" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-313"><a href="#cb4-313" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-314"><a href="#cb4-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-315"><a href="#cb4-315" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-316"><a href="#cb4-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-317"><a href="#cb4-317" aria-hidden="true" tabindex="-1"></a>There were 8 children in the Dorothy Stringer and Varndean Catchment area who applied for both these schools but could not initially be offered a catchment area school or a higher preference. In order to accommodate these children in a catchment area school, 4 additional children were allocated, each, to Dorothy Stringer and Varndean schools.</span>
<span id="cb4-318"><a href="#cb4-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-319"><a href="#cb4-319" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2019</span></span>
<span id="cb4-320"><a href="#cb4-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-321"><a href="#cb4-321" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202019.pdf&gt;</span></span>
<span id="cb4-322"><a href="#cb4-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-323"><a href="#cb4-323" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-324"><a href="#cb4-324" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb4-325"><a href="#cb4-325" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb4-326"><a href="#cb4-326" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb4-327"><a href="#cb4-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-328"><a href="#cb4-328" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the original data frame for 2019</span></span>
<span id="cb4-329"><a href="#cb4-329" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2019 &lt;- data.frame(</span></span>
<span id="cb4-330"><a href="#cb4-330" aria-hidden="true" tabindex="-1"></a><span class="in">  School = c("Blatchington Mill", "Brighton Aldridge Community Academy", "Cardinal Newman", "Dorothy Stringer",</span></span>
<span id="cb4-331"><a href="#cb4-331" aria-hidden="true" tabindex="-1"></a><span class="in">             "Hove Park", "Kings School", "Longhill", "Patcham High", "Portslade Aldridge Community Academy", </span></span>
<span id="cb4-332"><a href="#cb4-332" aria-hidden="true" tabindex="-1"></a><span class="in">             "Varndean", "Total"),</span></span>
<span id="cb4-333"><a href="#cb4-333" aria-hidden="true" tabindex="-1"></a><span class="in">  No_1st_preferences = c("373 (282)", "92 (92)", "465 (340)", "447 (355)", "119 (119)", "188 (157)", </span></span>
<span id="cb4-334"><a href="#cb4-334" aria-hidden="true" tabindex="-1"></a><span class="in">                         "153 (152)", "217 (190)", "168 (164)", "304 (251)", "2526 (2102)"),</span></span>
<span id="cb4-335"><a href="#cb4-335" aria-hidden="true" tabindex="-1"></a><span class="in">  No_2nd_preferences = c("344 (37)", "40 (11)", "219 (14)", "470 (9)", "289 (62)", "209 (17)", </span></span>
<span id="cb4-336"><a href="#cb4-336" aria-hidden="true" tabindex="-1"></a><span class="in">                         "33 (16)", "83 (19)", "106 (49)", "537 (47)", "2330 (281)"),</span></span>
<span id="cb4-337"><a href="#cb4-337" aria-hidden="true" tabindex="-1"></a><span class="in">  No_3rd_preferences = c("256 (11)", "49 (7)", "344 (6)", "233 (0)", "271 (34)", "204 (4)", </span></span>
<span id="cb4-338"><a href="#cb4-338" aria-hidden="true" tabindex="-1"></a><span class="in">                         "62 (15)", "299 (16)", "136 (27)", "257 (6)", "2111 (126)"),</span></span>
<span id="cb4-339"><a href="#cb4-339" aria-hidden="true" tabindex="-1"></a><span class="in">  Total = c("973 (330)", "181 (110)", "1028 (360)", "1150 (364)", "679 (215)", "601 (178)", </span></span>
<span id="cb4-340"><a href="#cb4-340" aria-hidden="true" tabindex="-1"></a><span class="in">            "248 (183)", "599 (225)", "410 (240)", "1098 (304)", "6967 (2509)")</span></span>
<span id="cb4-341"><a href="#cb4-341" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-342"><a href="#cb4-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-343"><a href="#cb4-343" aria-hidden="true" tabindex="-1"></a><span class="in"># Separate numbers and actual values in brackets into their own columns with new names</span></span>
<span id="cb4-344"><a href="#cb4-344" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2019 &lt;- yr_7_admissions_2019 %&gt;%</span></span>
<span id="cb4-345"><a href="#cb4-345" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_1st_preferences, into = c("No_1st_pref", "No_1st_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-346"><a href="#cb4-346" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_2nd_preferences, into = c("No_2nd_pref", "No_2nd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-347"><a href="#cb4-347" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_3rd_preferences, into = c("No_3rd_pref", "No_3rd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-348"><a href="#cb4-348" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Total, into = c("Total", "Total_offer"), sep = " \\(", convert = TRUE)</span></span>
<span id="cb4-349"><a href="#cb4-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-350"><a href="#cb4-350" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-351"><a href="#cb4-351" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2019 &lt;- yr_7_admissions_2019 %&gt;%</span></span>
<span id="cb4-352"><a href="#cb4-352" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb4-353"><a href="#cb4-353" aria-hidden="true" tabindex="-1"></a><span class="in">    No_1st_pref_offer = as.numeric(gsub("\\)", "", No_1st_pref_offer)),</span></span>
<span id="cb4-354"><a href="#cb4-354" aria-hidden="true" tabindex="-1"></a><span class="in">    No_2nd_pref_offer = as.numeric(gsub("\\)", "", No_2nd_pref_offer)),</span></span>
<span id="cb4-355"><a href="#cb4-355" aria-hidden="true" tabindex="-1"></a><span class="in">    No_3rd_pref_offer = as.numeric(gsub("\\)", "", No_3rd_pref_offer)),</span></span>
<span id="cb4-356"><a href="#cb4-356" aria-hidden="true" tabindex="-1"></a><span class="in">    Total_offer = as.numeric(gsub("\\)", "", Total_offer))</span></span>
<span id="cb4-357"><a href="#cb4-357" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-358"><a href="#cb4-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-359"><a href="#cb4-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-360"><a href="#cb4-360" aria-hidden="true" tabindex="-1"></a><span class="in"># Create DT table</span></span>
<span id="cb4-361"><a href="#cb4-361" aria-hidden="true" tabindex="-1"></a><span class="in">datatable(yr_7_admissions_2019, extensions = 'Buttons', options = list(</span></span>
<span id="cb4-362"><a href="#cb4-362" aria-hidden="true" tabindex="-1"></a><span class="in">    pageLength = 11,</span></span>
<span id="cb4-363"><a href="#cb4-363" aria-hidden="true" tabindex="-1"></a><span class="in">    dom = 'Bfrtip',</span></span>
<span id="cb4-364"><a href="#cb4-364" aria-hidden="true" tabindex="-1"></a><span class="in">    buttons = c('copy', 'csv', 'excel', 'pdf', 'print')</span></span>
<span id="cb4-365"><a href="#cb4-365" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-366"><a href="#cb4-366" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-367"><a href="#cb4-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-368"><a href="#cb4-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-369"><a href="#cb4-369" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-370"><a href="#cb4-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-371"><a href="#cb4-371" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>There were 8 children in the Dorothy Stringer/Varndean Catchment area who applied for both these schools but could not initially be offered a catchment area school or a higher preference. In order to accommodate these children in a catchment area school, 4 additional children were allocated, each, to Dorothy Stringer and Varndean schools.</span>
<span id="cb4-372"><a href="#cb4-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-373"><a href="#cb4-373" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2018</span></span>
<span id="cb4-374"><a href="#cb4-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-375"><a href="#cb4-375" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://www.brighton-hove.gov.uk/sites/default/files/migrated/subject/inline/Secondary%20Allocation%20factsheet%202018.pdf&gt;</span></span>
<span id="cb4-376"><a href="#cb4-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-377"><a href="#cb4-377" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-378"><a href="#cb4-378" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb4-379"><a href="#cb4-379" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb4-380"><a href="#cb4-380" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb4-381"><a href="#cb4-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-382"><a href="#cb4-382" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the original data frame for 2018</span></span>
<span id="cb4-383"><a href="#cb4-383" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2018 &lt;- data.frame(</span></span>
<span id="cb4-384"><a href="#cb4-384" aria-hidden="true" tabindex="-1"></a><span class="in">  School = c("Blatchington Mill", "Brighton Aldridge Community Academy", "Cardinal Newman", "Dorothy Stringer",</span></span>
<span id="cb4-385"><a href="#cb4-385" aria-hidden="true" tabindex="-1"></a><span class="in">             "Hove Park", "Kings School", "Longhill", "Patcham High", "Portslade Aldridge Community Academy", </span></span>
<span id="cb4-386"><a href="#cb4-386" aria-hidden="true" tabindex="-1"></a><span class="in">             "Varndean", "Total"),</span></span>
<span id="cb4-387"><a href="#cb4-387" aria-hidden="true" tabindex="-1"></a><span class="in">  No_1st_preferences = c("401 (303)", "110 (109)", "381 (342)", "413 (325)", "151 (151)", "143 (117)", </span></span>
<span id="cb4-388"><a href="#cb4-388" aria-hidden="true" tabindex="-1"></a><span class="in">                         "156 (156)", "226 (191)", "168 (168)", "355 (280)", "2504 (2142)"),</span></span>
<span id="cb4-389"><a href="#cb4-389" aria-hidden="true" tabindex="-1"></a><span class="in">  No_2nd_preferences = c("288 (22)", "42 (15)", "162 (15)", "488 (6)", "345 (71)", "133 (7)", </span></span>
<span id="cb4-390"><a href="#cb4-390" aria-hidden="true" tabindex="-1"></a><span class="in">                         "28 (8)", "64 (13)", "108 (13)", "486 (20)", "2143 (190)"),</span></span>
<span id="cb4-391"><a href="#cb4-391" aria-hidden="true" tabindex="-1"></a><span class="in">  No_3rd_preferences = c("257 (5)", "50 (6)", "274 (3)", "208 (0)", "226 (17)", "159 (1)", </span></span>
<span id="cb4-392"><a href="#cb4-392" aria-hidden="true" tabindex="-1"></a><span class="in">                         "47 (11)", "368 (21)", "133 (7)", "253 (0)", "1975 (71)"),</span></span>
<span id="cb4-393"><a href="#cb4-393" aria-hidden="true" tabindex="-1"></a><span class="in">  Total = c("946 (330)", "202 (130)", "816 (360)", "1109 (331)", "722 (239)", "435 (125)", </span></span>
<span id="cb4-394"><a href="#cb4-394" aria-hidden="true" tabindex="-1"></a><span class="in">            "231 (175)", "658 (225)", "409 (188)", "1094 (300)", "6622 (2403)")</span></span>
<span id="cb4-395"><a href="#cb4-395" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-396"><a href="#cb4-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-397"><a href="#cb4-397" aria-hidden="true" tabindex="-1"></a><span class="in"># Separate numbers and actual values in brackets into their own columns with new names</span></span>
<span id="cb4-398"><a href="#cb4-398" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2018 &lt;- yr_7_admissions_2018 %&gt;%</span></span>
<span id="cb4-399"><a href="#cb4-399" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_1st_preferences, into = c("No_1st_pref", "No_1st_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-400"><a href="#cb4-400" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_2nd_preferences, into = c("No_2nd_pref", "No_2nd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-401"><a href="#cb4-401" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_3rd_preferences, into = c("No_3rd_pref", "No_3rd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-402"><a href="#cb4-402" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Total, into = c("Total", "Total_offer"), sep = " \\(", convert = TRUE)</span></span>
<span id="cb4-403"><a href="#cb4-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-404"><a href="#cb4-404" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-405"><a href="#cb4-405" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2018 &lt;- yr_7_admissions_2018 %&gt;%</span></span>
<span id="cb4-406"><a href="#cb4-406" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb4-407"><a href="#cb4-407" aria-hidden="true" tabindex="-1"></a><span class="in">    No_1st_pref_offer = as.numeric(gsub("\\)", "", No_1st_pref_offer)),</span></span>
<span id="cb4-408"><a href="#cb4-408" aria-hidden="true" tabindex="-1"></a><span class="in">    No_2nd_pref_offer = as.numeric(gsub("\\)", "", No_2nd_pref_offer)),</span></span>
<span id="cb4-409"><a href="#cb4-409" aria-hidden="true" tabindex="-1"></a><span class="in">    No_3rd_pref_offer = as.numeric(gsub("\\)", "", No_3rd_pref_offer)),</span></span>
<span id="cb4-410"><a href="#cb4-410" aria-hidden="true" tabindex="-1"></a><span class="in">    Total_offer = as.numeric(gsub("\\)", "", Total_offer))</span></span>
<span id="cb4-411"><a href="#cb4-411" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-412"><a href="#cb4-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-413"><a href="#cb4-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-414"><a href="#cb4-414" aria-hidden="true" tabindex="-1"></a><span class="in"># Create DT table</span></span>
<span id="cb4-415"><a href="#cb4-415" aria-hidden="true" tabindex="-1"></a><span class="in">datatable(yr_7_admissions_2018, extensions = 'Buttons', options = list(</span></span>
<span id="cb4-416"><a href="#cb4-416" aria-hidden="true" tabindex="-1"></a><span class="in">    pageLength = 11,</span></span>
<span id="cb4-417"><a href="#cb4-417" aria-hidden="true" tabindex="-1"></a><span class="in">    dom = 'Bfrtip',</span></span>
<span id="cb4-418"><a href="#cb4-418" aria-hidden="true" tabindex="-1"></a><span class="in">    buttons = c('copy', 'csv', 'excel', 'pdf', 'print')</span></span>
<span id="cb4-419"><a href="#cb4-419" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-420"><a href="#cb4-420" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-421"><a href="#cb4-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-422"><a href="#cb4-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-423"><a href="#cb4-423" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-424"><a href="#cb4-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-425"><a href="#cb4-425" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Please note that 1 additional child was allocated a place at Dorothy Stringer School in order that twins could be kept together at the same school.</span>
<span id="cb4-426"><a href="#cb4-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-427"><a href="#cb4-427" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2017</span></span>
<span id="cb4-428"><a href="#cb4-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-429"><a href="#cb4-429" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202017.pdf&gt;</span></span>
<span id="cb4-430"><a href="#cb4-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-431"><a href="#cb4-431" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-432"><a href="#cb4-432" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb4-433"><a href="#cb4-433" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb4-434"><a href="#cb4-434" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb4-435"><a href="#cb4-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-436"><a href="#cb4-436" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the original data frame for 2017</span></span>
<span id="cb4-437"><a href="#cb4-437" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2017 &lt;- data.frame(</span></span>
<span id="cb4-438"><a href="#cb4-438" aria-hidden="true" tabindex="-1"></a><span class="in">  School = c("Blatchington Mill", "Brighton Aldridge Community Academy", "Cardinal Newman", "Dorothy Stringer",</span></span>
<span id="cb4-439"><a href="#cb4-439" aria-hidden="true" tabindex="-1"></a><span class="in">             "Hove Park", "Kings School", "Longhill", "Patcham High", "Portslade Aldridge Community Academy", </span></span>
<span id="cb4-440"><a href="#cb4-440" aria-hidden="true" tabindex="-1"></a><span class="in">             "Varndean", "Total"),</span></span>
<span id="cb4-441"><a href="#cb4-441" aria-hidden="true" tabindex="-1"></a><span class="in">  No_1st_preferences = c("336 (282)", "90 (90)", "362 (330)", "459 (327)", "198 (198)", "124 (94)", </span></span>
<span id="cb4-442"><a href="#cb4-442" aria-hidden="true" tabindex="-1"></a><span class="in">                         "131 (131)", "211 (185)", "158 (158)", "304 (228)", "2373 (2023)"),</span></span>
<span id="cb4-443"><a href="#cb4-443" aria-hidden="true" tabindex="-1"></a><span class="in">  No_2nd_preferences = c("323 (14)", "22 (9)", "154 (20)", "455 (3)", "299 (45)", "123 (4)", </span></span>
<span id="cb4-444"><a href="#cb4-444" aria-hidden="true" tabindex="-1"></a><span class="in">                         "33 (8)", "90 (12)", "65 (13)", "482 (35)", "2046 (163)"),</span></span>
<span id="cb4-445"><a href="#cb4-445" aria-hidden="true" tabindex="-1"></a><span class="in">  No_3rd_preferences = c("238 (4)", "31 (9)", "278 (10)", "159 (1)", "229 (12)", "142 (2)", </span></span>
<span id="cb4-446"><a href="#cb4-446" aria-hidden="true" tabindex="-1"></a><span class="in">                         "39 (11)", "303 (18)", "84 (5)", "244 (7)", "1747 (79)"),</span></span>
<span id="cb4-447"><a href="#cb4-447" aria-hidden="true" tabindex="-1"></a><span class="in">  Total = c("897 (300)", "143 (108)", "794 (360)", "1073 (331)", "726 (255)", "389 (100)", </span></span>
<span id="cb4-448"><a href="#cb4-448" aria-hidden="true" tabindex="-1"></a><span class="in">            "203 (150)", "604 (215)", "307 (176)", "1030 (270)", "6167 (2282)")</span></span>
<span id="cb4-449"><a href="#cb4-449" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-450"><a href="#cb4-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-451"><a href="#cb4-451" aria-hidden="true" tabindex="-1"></a><span class="in"># Separate numbers and actual values in brackets into their own columns with new names</span></span>
<span id="cb4-452"><a href="#cb4-452" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2017 &lt;- yr_7_admissions_2017 %&gt;%</span></span>
<span id="cb4-453"><a href="#cb4-453" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_1st_preferences, into = c("No_1st_pref", "No_1st_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-454"><a href="#cb4-454" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_2nd_preferences, into = c("No_2nd_pref", "No_2nd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-455"><a href="#cb4-455" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_3rd_preferences, into = c("No_3rd_pref", "No_3rd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-456"><a href="#cb4-456" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Total, into = c("Total", "Total_offer"), sep = " \\(", convert = TRUE)</span></span>
<span id="cb4-457"><a href="#cb4-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-458"><a href="#cb4-458" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-459"><a href="#cb4-459" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2017 &lt;- yr_7_admissions_2017 %&gt;%</span></span>
<span id="cb4-460"><a href="#cb4-460" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb4-461"><a href="#cb4-461" aria-hidden="true" tabindex="-1"></a><span class="in">    No_1st_pref_offer = as.numeric(gsub("\\)", "", No_1st_pref_offer)),</span></span>
<span id="cb4-462"><a href="#cb4-462" aria-hidden="true" tabindex="-1"></a><span class="in">    No_2nd_pref_offer = as.numeric(gsub("\\)", "", No_2nd_pref_offer)),</span></span>
<span id="cb4-463"><a href="#cb4-463" aria-hidden="true" tabindex="-1"></a><span class="in">    No_3rd_pref_offer = as.numeric(gsub("\\)", "", No_3rd_pref_offer)),</span></span>
<span id="cb4-464"><a href="#cb4-464" aria-hidden="true" tabindex="-1"></a><span class="in">    Total_offer = as.numeric(gsub("\\)", "", Total_offer))</span></span>
<span id="cb4-465"><a href="#cb4-465" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-466"><a href="#cb4-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-467"><a href="#cb4-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-468"><a href="#cb4-468" aria-hidden="true" tabindex="-1"></a><span class="in"># Create DT table</span></span>
<span id="cb4-469"><a href="#cb4-469" aria-hidden="true" tabindex="-1"></a><span class="in">datatable(yr_7_admissions_2017, extensions = 'Buttons', options = list(</span></span>
<span id="cb4-470"><a href="#cb4-470" aria-hidden="true" tabindex="-1"></a><span class="in">    pageLength = 11,</span></span>
<span id="cb4-471"><a href="#cb4-471" aria-hidden="true" tabindex="-1"></a><span class="in">    dom = 'Bfrtip',</span></span>
<span id="cb4-472"><a href="#cb4-472" aria-hidden="true" tabindex="-1"></a><span class="in">    buttons = c('copy', 'csv', 'excel', 'pdf', 'print')</span></span>
<span id="cb4-473"><a href="#cb4-473" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-474"><a href="#cb4-474" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-475"><a href="#cb4-475" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-476"><a href="#cb4-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-477"><a href="#cb4-477" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2016</span></span>
<span id="cb4-478"><a href="#cb4-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-479"><a href="#cb4-479" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20Factsheet%202016.pdf&gt;</span></span>
<span id="cb4-480"><a href="#cb4-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-481"><a href="#cb4-481" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-482"><a href="#cb4-482" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb4-483"><a href="#cb4-483" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb4-484"><a href="#cb4-484" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb4-485"><a href="#cb4-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-486"><a href="#cb4-486" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the original data frame for 2016</span></span>
<span id="cb4-487"><a href="#cb4-487" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2016 &lt;- data.frame(</span></span>
<span id="cb4-488"><a href="#cb4-488" aria-hidden="true" tabindex="-1"></a><span class="in">  School = c("Blatchington Mill", "Brighton Aldridge Community Academy", "Cardinal Newman", "Dorothy Stringer",</span></span>
<span id="cb4-489"><a href="#cb4-489" aria-hidden="true" tabindex="-1"></a><span class="in">             "Hove Park", "Kings School", "Longhill", "Patcham High", "Portslade Aldridge Community Academy", </span></span>
<span id="cb4-490"><a href="#cb4-490" aria-hidden="true" tabindex="-1"></a><span class="in">             "Varndean", "Total"),</span></span>
<span id="cb4-491"><a href="#cb4-491" aria-hidden="true" tabindex="-1"></a><span class="in">  No_1st_preferences = c("410 (292)", "87 (87)", "375 (338)", "495 (337)", "172 (172)", "98 (90)", </span></span>
<span id="cb4-492"><a href="#cb4-492" aria-hidden="true" tabindex="-1"></a><span class="in">                         "138 (138)", "217 (185)", "85 (85)", "219 (176)", "2296 (1900)"),</span></span>
<span id="cb4-493"><a href="#cb4-493" aria-hidden="true" tabindex="-1"></a><span class="in">  No_2nd_preferences = c("289 (6)", "24 (7)", "130 (17)", "337 (7)", "335 (82)", "102 (9)", </span></span>
<span id="cb4-494"><a href="#cb4-494" aria-hidden="true" tabindex="-1"></a><span class="in">                         "31 (14)", "63 (20)", "39 (8)", "521 (100)", "1871 (270)"),</span></span>
<span id="cb4-495"><a href="#cb4-495" aria-hidden="true" tabindex="-1"></a><span class="in">  No_3rd_preferences = c("189 (2)", "27 (5)", "330 (5)", "191 (0)", "224 (19)", "142 (1)", </span></span>
<span id="cb4-496"><a href="#cb4-496" aria-hidden="true" tabindex="-1"></a><span class="in">                         "33 (11)", "237 (10)", "58 (1)", "217 (8)", "1648 (62)"),</span></span>
<span id="cb4-497"><a href="#cb4-497" aria-hidden="true" tabindex="-1"></a><span class="in">  Total = c("888 (300)", "138 (99)", "835 (360)", "1023 (344)", "731 (273)", "342 (100)", </span></span>
<span id="cb4-498"><a href="#cb4-498" aria-hidden="true" tabindex="-1"></a><span class="in">            "202 (163)", "517 (215)", "182 (94)", "957 (284)", "5815 (2232)")</span></span>
<span id="cb4-499"><a href="#cb4-499" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-500"><a href="#cb4-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-501"><a href="#cb4-501" aria-hidden="true" tabindex="-1"></a><span class="in"># Separate numbers and actual values in brackets into their own columns with new names</span></span>
<span id="cb4-502"><a href="#cb4-502" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2016 &lt;- yr_7_admissions_2016 %&gt;%</span></span>
<span id="cb4-503"><a href="#cb4-503" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_1st_preferences, into = c("No_1st_pref", "No_1st_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-504"><a href="#cb4-504" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_2nd_preferences, into = c("No_2nd_pref", "No_2nd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-505"><a href="#cb4-505" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_3rd_preferences, into = c("No_3rd_pref", "No_3rd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-506"><a href="#cb4-506" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Total, into = c("Total", "Total_offer"), sep = " \\(", convert = TRUE)</span></span>
<span id="cb4-507"><a href="#cb4-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-508"><a href="#cb4-508" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-509"><a href="#cb4-509" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2016 &lt;- yr_7_admissions_2016 %&gt;%</span></span>
<span id="cb4-510"><a href="#cb4-510" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb4-511"><a href="#cb4-511" aria-hidden="true" tabindex="-1"></a><span class="in">    No_1st_pref_offer = as.numeric(gsub("\\)", "", No_1st_pref_offer)),</span></span>
<span id="cb4-512"><a href="#cb4-512" aria-hidden="true" tabindex="-1"></a><span class="in">    No_2nd_pref_offer = as.numeric(gsub("\\)", "", No_2nd_pref_offer)),</span></span>
<span id="cb4-513"><a href="#cb4-513" aria-hidden="true" tabindex="-1"></a><span class="in">    No_3rd_pref_offer = as.numeric(gsub("\\)", "", No_3rd_pref_offer)),</span></span>
<span id="cb4-514"><a href="#cb4-514" aria-hidden="true" tabindex="-1"></a><span class="in">    Total_offer = as.numeric(gsub("\\)", "", Total_offer))</span></span>
<span id="cb4-515"><a href="#cb4-515" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-516"><a href="#cb4-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-517"><a href="#cb4-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-518"><a href="#cb4-518" aria-hidden="true" tabindex="-1"></a><span class="in"># Create DT table</span></span>
<span id="cb4-519"><a href="#cb4-519" aria-hidden="true" tabindex="-1"></a><span class="in">datatable(yr_7_admissions_2016, extensions = 'Buttons', options = list(</span></span>
<span id="cb4-520"><a href="#cb4-520" aria-hidden="true" tabindex="-1"></a><span class="in">    pageLength = 11,</span></span>
<span id="cb4-521"><a href="#cb4-521" aria-hidden="true" tabindex="-1"></a><span class="in">    dom = 'Bfrtip',</span></span>
<span id="cb4-522"><a href="#cb4-522" aria-hidden="true" tabindex="-1"></a><span class="in">    buttons = c('copy', 'csv', 'excel', 'pdf', 'print')</span></span>
<span id="cb4-523"><a href="#cb4-523" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-524"><a href="#cb4-524" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-525"><a href="#cb4-525" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-526"><a href="#cb4-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-527"><a href="#cb4-527" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2015</span></span>
<span id="cb4-528"><a href="#cb4-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-529"><a href="#cb4-529" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202015.pdf&gt;</span></span>
<span id="cb4-530"><a href="#cb4-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-531"><a href="#cb4-531" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-532"><a href="#cb4-532" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb4-533"><a href="#cb4-533" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb4-534"><a href="#cb4-534" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb4-535"><a href="#cb4-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-536"><a href="#cb4-536" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the original data frame for 2015</span></span>
<span id="cb4-537"><a href="#cb4-537" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2015 &lt;- data.frame(</span></span>
<span id="cb4-538"><a href="#cb4-538" aria-hidden="true" tabindex="-1"></a><span class="in">  School = c("Blatchington Mill", "Brighton Aldridge Community Academy", "Cardinal Newman", "Dorothy Stringer",</span></span>
<span id="cb4-539"><a href="#cb4-539" aria-hidden="true" tabindex="-1"></a><span class="in">             "Hove Park", "Kings School", "Longhill", "Patcham High", "Portslade Aldridge Community Academy", </span></span>
<span id="cb4-540"><a href="#cb4-540" aria-hidden="true" tabindex="-1"></a><span class="in">             "Varndean", "Total"),</span></span>
<span id="cb4-541"><a href="#cb4-541" aria-hidden="true" tabindex="-1"></a><span class="in">  No_1st_preferences = c("389 (287)", "120 (120)", "385 (345)", "471 (329)", "215 (200)", "90 (90)", </span></span>
<span id="cb4-542"><a href="#cb4-542" aria-hidden="true" tabindex="-1"></a><span class="in">                         "141 (141)", "208 (184)", "86 (86)", "210 (176)", "2315 (1958)"),</span></span>
<span id="cb4-543"><a href="#cb4-543" aria-hidden="true" tabindex="-1"></a><span class="in">  No_2nd_preferences = c("323 (13)", "17 (4)", "132 (13)", "366 (4)", "387 (77)", "71 (17)", </span></span>
<span id="cb4-544"><a href="#cb4-544" aria-hidden="true" tabindex="-1"></a><span class="in">                         "34 (9)", "72 (13)", "35 (24)", "480 (94)", "1917 (268)"),</span></span>
<span id="cb4-545"><a href="#cb4-545" aria-hidden="true" tabindex="-1"></a><span class="in">  No_3rd_preferences = c("234 (1)", "39 (6)", "306 (2)", "189 (4)", "220 (22)", "108 (14)", </span></span>
<span id="cb4-546"><a href="#cb4-546" aria-hidden="true" tabindex="-1"></a><span class="in">                         "33 (6)", "250 (13)", "70 (13)", "233 (7)", "1682 (88)"),</span></span>
<span id="cb4-547"><a href="#cb4-547" aria-hidden="true" tabindex="-1"></a><span class="in">  Total = c("946 (301)", "176 (130)", "823 (360)", "1026 (337)", "823 (299)", "269 (121)", </span></span>
<span id="cb4-548"><a href="#cb4-548" aria-hidden="true" tabindex="-1"></a><span class="in">            "208 (156)", "530 (210)", "191 (123)", "923 (277)", "5915 (2214)")</span></span>
<span id="cb4-549"><a href="#cb4-549" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-550"><a href="#cb4-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-551"><a href="#cb4-551" aria-hidden="true" tabindex="-1"></a><span class="in"># Separate numbers and actual values in brackets into their own columns with new names</span></span>
<span id="cb4-552"><a href="#cb4-552" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2015 &lt;- yr_7_admissions_2015 %&gt;%</span></span>
<span id="cb4-553"><a href="#cb4-553" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_1st_preferences, into = c("No_1st_pref", "No_1st_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-554"><a href="#cb4-554" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_2nd_preferences, into = c("No_2nd_pref", "No_2nd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-555"><a href="#cb4-555" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_3rd_preferences, into = c("No_3rd_pref", "No_3rd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-556"><a href="#cb4-556" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Total, into = c("Total", "Total_offer"), sep = " \\(", convert = TRUE)</span></span>
<span id="cb4-557"><a href="#cb4-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-558"><a href="#cb4-558" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-559"><a href="#cb4-559" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2015 &lt;- yr_7_admissions_2015 %&gt;%</span></span>
<span id="cb4-560"><a href="#cb4-560" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb4-561"><a href="#cb4-561" aria-hidden="true" tabindex="-1"></a><span class="in">    No_1st_pref_offer = as.numeric(gsub("\\)", "", No_1st_pref_offer)),</span></span>
<span id="cb4-562"><a href="#cb4-562" aria-hidden="true" tabindex="-1"></a><span class="in">    No_2nd_pref_offer = as.numeric(gsub("\\)", "", No_2nd_pref_offer)),</span></span>
<span id="cb4-563"><a href="#cb4-563" aria-hidden="true" tabindex="-1"></a><span class="in">    No_3rd_pref_offer = as.numeric(gsub("\\)", "", No_3rd_pref_offer)),</span></span>
<span id="cb4-564"><a href="#cb4-564" aria-hidden="true" tabindex="-1"></a><span class="in">    Total_offer = as.numeric(gsub("\\)", "", Total_offer))</span></span>
<span id="cb4-565"><a href="#cb4-565" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-566"><a href="#cb4-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-567"><a href="#cb4-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-568"><a href="#cb4-568" aria-hidden="true" tabindex="-1"></a><span class="in"># Create DT table</span></span>
<span id="cb4-569"><a href="#cb4-569" aria-hidden="true" tabindex="-1"></a><span class="in">datatable(yr_7_admissions_2015, extensions = 'Buttons', options = list(</span></span>
<span id="cb4-570"><a href="#cb4-570" aria-hidden="true" tabindex="-1"></a><span class="in">    pageLength = 11,</span></span>
<span id="cb4-571"><a href="#cb4-571" aria-hidden="true" tabindex="-1"></a><span class="in">    dom = 'Bfrtip',</span></span>
<span id="cb4-572"><a href="#cb4-572" aria-hidden="true" tabindex="-1"></a><span class="in">    buttons = c('copy', 'csv', 'excel', 'pdf', 'print')</span></span>
<span id="cb4-573"><a href="#cb4-573" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-574"><a href="#cb4-574" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-575"><a href="#cb4-575" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-576"><a href="#cb4-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-577"><a href="#cb4-577" aria-hidden="true" tabindex="-1"></a><span class="sc">\*\*\*</span> There were 14 children in the Dorothy Stringer/Varndean Catchment area who applied for both these schools but could not initially be offered a catchment area school or a higher preference. In order to accommodate these children in a catchment area school, 7 additional children were allocated each to Dorothy Stringer and Varndean schools.</span>
<span id="cb4-578"><a href="#cb4-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-579"><a href="#cb4-579" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2014</span></span>
<span id="cb4-580"><a href="#cb4-580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-581"><a href="#cb4-581" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202014.pdf&gt;</span></span>
<span id="cb4-582"><a href="#cb4-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-583"><a href="#cb4-583" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-584"><a href="#cb4-584" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb4-585"><a href="#cb4-585" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb4-586"><a href="#cb4-586" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb4-587"><a href="#cb4-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-588"><a href="#cb4-588" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the original data frame for 2014</span></span>
<span id="cb4-589"><a href="#cb4-589" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2014 &lt;- data.frame(</span></span>
<span id="cb4-590"><a href="#cb4-590" aria-hidden="true" tabindex="-1"></a><span class="in">  School = c("Blatchington Mill", "Brighton Aldridge Community Academy", "Cardinal Newman", "Dorothy Stringer",</span></span>
<span id="cb4-591"><a href="#cb4-591" aria-hidden="true" tabindex="-1"></a><span class="in">             "Hove Park", "Kings School", "Longhill", "Patcham High", "Portslade Aldridge Community Academy", </span></span>
<span id="cb4-592"><a href="#cb4-592" aria-hidden="true" tabindex="-1"></a><span class="in">             "Varndean", "Total"),</span></span>
<span id="cb4-593"><a href="#cb4-593" aria-hidden="true" tabindex="-1"></a><span class="in">  No_1st_preferences = c("349 (286)", "68 (68)", "393 (355)", "493 (316)", "181 (181)", "105 (105)", "191 (191)"  ,"209 (179)", "85 (85)", "216 (165)", "2290 (1931)"),</span></span>
<span id="cb4-594"><a href="#cb4-594" aria-hidden="true" tabindex="-1"></a><span class="in">  No_2nd_preferences = c("287 (11)", "18 (5)", "135 (3)", "414 (15)", "343 (58)", "54 (7)", "38 (12)" ,"67 (11)", "38 (6)", "495 (95)", "1889 (223)"),</span></span>
<span id="cb4-595"><a href="#cb4-595" aria-hidden="true" tabindex="-1"></a><span class="in">  No_3rd_preferences = c("212 (3)", "27 (9)", "296 (2)", "178 (0)", "195 (21)", "77 (3)", "32 (6)"  ,"222 (20)", "39 (1)", "254 (10)", "1532 (75)"),</span></span>
<span id="cb4-596"><a href="#cb4-596" aria-hidden="true" tabindex="-1"></a><span class="in">  Total = c("848 (300)", "113 (82)", "824 (360)", "1085 (331)", "719 (260)", "236 (115)", "261 (209)" ,"498 (210)", "162 (92)", "965 (270)", "6654 (1975)")</span></span>
<span id="cb4-597"><a href="#cb4-597" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-598"><a href="#cb4-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-599"><a href="#cb4-599" aria-hidden="true" tabindex="-1"></a><span class="in"># Separate numbers and actual values in brackets into their own columns with new names</span></span>
<span id="cb4-600"><a href="#cb4-600" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2014 &lt;- yr_7_admissions_2014 %&gt;%</span></span>
<span id="cb4-601"><a href="#cb4-601" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_1st_preferences, into = c("No_1st_pref", "No_1st_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-602"><a href="#cb4-602" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_2nd_preferences, into = c("No_2nd_pref", "No_2nd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-603"><a href="#cb4-603" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(No_3rd_preferences, into = c("No_3rd_pref", "No_3rd_pref_offer"), sep = " \\(", convert = TRUE) %&gt;%</span></span>
<span id="cb4-604"><a href="#cb4-604" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Total, into = c("Total", "Total_offer"), sep = " \\(", convert = TRUE)</span></span>
<span id="cb4-605"><a href="#cb4-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-606"><a href="#cb4-606" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-607"><a href="#cb4-607" aria-hidden="true" tabindex="-1"></a><span class="in">yr_7_admissions_2014 &lt;- yr_7_admissions_2014 %&gt;%</span></span>
<span id="cb4-608"><a href="#cb4-608" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb4-609"><a href="#cb4-609" aria-hidden="true" tabindex="-1"></a><span class="in">    No_1st_pref_offer = as.numeric(gsub("\\)", "", No_1st_pref_offer)),</span></span>
<span id="cb4-610"><a href="#cb4-610" aria-hidden="true" tabindex="-1"></a><span class="in">    No_2nd_pref_offer = as.numeric(gsub("\\)", "", No_2nd_pref_offer)),</span></span>
<span id="cb4-611"><a href="#cb4-611" aria-hidden="true" tabindex="-1"></a><span class="in">    No_3rd_pref_offer = as.numeric(gsub("\\)", "", No_3rd_pref_offer)),</span></span>
<span id="cb4-612"><a href="#cb4-612" aria-hidden="true" tabindex="-1"></a><span class="in">    Total_offer = as.numeric(gsub("\\)", "", Total_offer))</span></span>
<span id="cb4-613"><a href="#cb4-613" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-614"><a href="#cb4-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-615"><a href="#cb4-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-616"><a href="#cb4-616" aria-hidden="true" tabindex="-1"></a><span class="in"># Create DT table</span></span>
<span id="cb4-617"><a href="#cb4-617" aria-hidden="true" tabindex="-1"></a><span class="in">datatable(yr_7_admissions_2014, extensions = 'Buttons', options = list(</span></span>
<span id="cb4-618"><a href="#cb4-618" aria-hidden="true" tabindex="-1"></a><span class="in">    pageLength = 11,</span></span>
<span id="cb4-619"><a href="#cb4-619" aria-hidden="true" tabindex="-1"></a><span class="in">    dom = 'Bfrtip',</span></span>
<span id="cb4-620"><a href="#cb4-620" aria-hidden="true" tabindex="-1"></a><span class="in">    buttons = c('copy', 'csv', 'excel', 'pdf', 'print')</span></span>
<span id="cb4-621"><a href="#cb4-621" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb4-622"><a href="#cb4-622" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb4-623"><a href="#cb4-623" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-624"><a href="#cb4-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-625"><a href="#cb4-625" aria-hidden="true" tabindex="-1"></a>There were 23 children In catchment area who couldn’t be offered Varndean School or a higher preference.</span>
<span id="cb4-626"><a href="#cb4-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-627"><a href="#cb4-627" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2013</span></span>
<span id="cb4-628"><a href="#cb4-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-629"><a href="#cb4-629" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/Secondary%20Allocation%20factsheet%202013.pdf&gt;</span></span>
<span id="cb4-630"><a href="#cb4-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-633"><a href="#cb4-633" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb4-634"><a href="#cb4-634" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb4-635"><a href="#cb4-635" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb4-636"><a href="#cb4-636" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb4-637"><a href="#cb4-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-638"><a href="#cb4-638" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the original data frame for 2013</span></span>
<span id="cb4-639"><a href="#cb4-639" aria-hidden="true" tabindex="-1"></a>yr_7_admissions_2013 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-640"><a href="#cb4-640" aria-hidden="true" tabindex="-1"></a>  <span class="at">School =</span> <span class="fu">c</span>(<span class="st">"Blatchington Mill"</span>, <span class="st">"Brighton Aldridge Community Academy"</span>, <span class="st">"Cardinal Newman"</span>, <span class="st">"Dorothy Stringer"</span>,</span>
<span id="cb4-641"><a href="#cb4-641" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Hove Park"</span>, <span class="st">"Longhill"</span>, <span class="st">"Patcham High"</span>, <span class="st">"Portslade Aldridge Community Academy"</span>, <span class="st">"Varndean"</span>, <span class="st">"Total"</span>),</span>
<span id="cb4-642"><a href="#cb4-642" aria-hidden="true" tabindex="-1"></a>  <span class="at">No_1st_preferences =</span> <span class="fu">c</span>(<span class="st">"400 (285)"</span>, <span class="st">"79 (79)"</span>, <span class="st">"409 (354)"</span>, <span class="st">"507 (326)"</span>, <span class="st">"175 (175)"</span>, <span class="st">"188 (188)"</span>, </span>
<span id="cb4-643"><a href="#cb4-643" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"186 (180)"</span>, <span class="st">"80 (80)"</span>, <span class="st">"169 (142)"</span>, <span class="st">"2193 (1809)"</span>),</span>
<span id="cb4-644"><a href="#cb4-644" aria-hidden="true" tabindex="-1"></a>  <span class="at">No_2nd_preferences =</span> <span class="fu">c</span>(<span class="st">"333 (14)"</span>, <span class="st">"17 (3)"</span>, <span class="st">"129 (5)"</span>, <span class="st">"370 (4)"</span>, <span class="st">"333 (95)"</span>, <span class="st">"26 (8)"</span>, </span>
<span id="cb4-645"><a href="#cb4-645" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"65 (17)"</span>, <span class="st">"30 (9)"</span>, <span class="st">"485 (110)"</span>, <span class="st">"1788 (265)"</span>),</span>
<span id="cb4-646"><a href="#cb4-646" aria-hidden="true" tabindex="-1"></a>  <span class="at">No_3rd_preferences =</span> <span class="fu">c</span>(<span class="st">"228 (1)"</span>, <span class="st">"19 (1)"</span>, <span class="st">"300 (1)"</span>, <span class="st">"182 (0)"</span>, <span class="st">"234 (29)"</span>, <span class="st">"43 (4)"</span>, </span>
<span id="cb4-647"><a href="#cb4-647" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"198 (13)"</span>, <span class="st">"62 (2)"</span>, <span class="st">"253 (18)"</span>, <span class="st">"1519 (69)"</span>),</span>
<span id="cb4-648"><a href="#cb4-648" aria-hidden="true" tabindex="-1"></a>  <span class="at">Total =</span> <span class="fu">c</span>(<span class="st">"961 (300)"</span>, <span class="st">"115 (83)"</span>, <span class="st">"838 (360)"</span>, <span class="st">"1059 (330)"</span>, <span class="st">"742 (299)"</span>, <span class="st">"257 (200)"</span>, </span>
<span id="cb4-649"><a href="#cb4-649" aria-hidden="true" tabindex="-1"></a>            <span class="st">"449 (210)"</span>, <span class="st">"172 (91)"</span>, <span class="st">"907 (270)"</span>, <span class="st">"5500 (2143)"</span>)</span>
<span id="cb4-650"><a href="#cb4-650" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-651"><a href="#cb4-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-652"><a href="#cb4-652" aria-hidden="true" tabindex="-1"></a><span class="co"># Separate numbers and actual values in brackets into their own columns with new names</span></span>
<span id="cb4-653"><a href="#cb4-653" aria-hidden="true" tabindex="-1"></a>yr_7_admissions_2013 <span class="ot">&lt;-</span> yr_7_admissions_2013 <span class="sc">%&gt;%</span></span>
<span id="cb4-654"><a href="#cb4-654" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(No_1st_preferences, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"No_1st_pref"</span>, <span class="st">"No_1st_pref_offer"</span>), <span class="at">sep =</span> <span class="st">" </span><span class="sc">\\</span><span class="st">("</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-655"><a href="#cb4-655" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(No_2nd_preferences, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"No_2nd_pref"</span>, <span class="st">"No_2nd_pref_offer"</span>), <span class="at">sep =</span> <span class="st">" </span><span class="sc">\\</span><span class="st">("</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-656"><a href="#cb4-656" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(No_3rd_preferences, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"No_3rd_pref"</span>, <span class="st">"No_3rd_pref_offer"</span>), <span class="at">sep =</span> <span class="st">" </span><span class="sc">\\</span><span class="st">("</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-657"><a href="#cb4-657" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(Total, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"Total"</span>, <span class="st">"Total_offer"</span>), <span class="at">sep =</span> <span class="st">" </span><span class="sc">\\</span><span class="st">("</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-658"><a href="#cb4-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-659"><a href="#cb4-659" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove closing parenthesis from actual values</span></span>
<span id="cb4-660"><a href="#cb4-660" aria-hidden="true" tabindex="-1"></a>yr_7_admissions_2013 <span class="ot">&lt;-</span> yr_7_admissions_2013 <span class="sc">%&gt;%</span></span>
<span id="cb4-661"><a href="#cb4-661" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-662"><a href="#cb4-662" aria-hidden="true" tabindex="-1"></a>    <span class="at">No_1st_pref_offer =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, No_1st_pref_offer)),</span>
<span id="cb4-663"><a href="#cb4-663" aria-hidden="true" tabindex="-1"></a>    <span class="at">No_2nd_pref_offer =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, No_2nd_pref_offer)),</span>
<span id="cb4-664"><a href="#cb4-664" aria-hidden="true" tabindex="-1"></a>    <span class="at">No_3rd_pref_offer =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, No_3rd_pref_offer)),</span>
<span id="cb4-665"><a href="#cb4-665" aria-hidden="true" tabindex="-1"></a>    <span class="at">Total_offer =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, Total_offer))</span>
<span id="cb4-666"><a href="#cb4-666" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-667"><a href="#cb4-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-668"><a href="#cb4-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-669"><a href="#cb4-669" aria-hidden="true" tabindex="-1"></a><span class="co"># Create DT table</span></span>
<span id="cb4-670"><a href="#cb4-670" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(yr_7_admissions_2013, <span class="at">extensions =</span> <span class="st">'Buttons'</span>, <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb4-671"><a href="#cb4-671" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">11</span>,</span>
<span id="cb4-672"><a href="#cb4-672" aria-hidden="true" tabindex="-1"></a>    <span class="at">dom =</span> <span class="st">'Bfrtip'</span>,</span>
<span id="cb4-673"><a href="#cb4-673" aria-hidden="true" tabindex="-1"></a>    <span class="at">buttons =</span> <span class="fu">c</span>(<span class="st">'copy'</span>, <span class="st">'csv'</span>, <span class="st">'excel'</span>, <span class="st">'pdf'</span>, <span class="st">'print'</span>)</span>
<span id="cb4-674"><a href="#cb4-674" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-675"><a href="#cb4-675" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-676"><a href="#cb4-676" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-677"><a href="#cb4-677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-678"><a href="#cb4-678" aria-hidden="true" tabindex="-1"></a>2012</span>
<span id="cb4-679"><a href="#cb4-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-680"><a href="#cb4-680" aria-hidden="true" tabindex="-1"></a>2011</span>
<span id="cb4-681"><a href="#cb4-681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-682"><a href="#cb4-682" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/downloads/education/3740_school_booklets_secondary_AW_final.pdf&gt;</span></span>
<span id="cb4-683"><a href="#cb4-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-684"><a href="#cb4-684" aria-hidden="true" tabindex="-1"></a>2010</span>
<span id="cb4-685"><a href="#cb4-685" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-686"><a href="#cb4-686" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://ww3.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/downloads/education/Secondary_School_Admissions_2011-12.pdf&gt;</span></span>
<span id="cb4-687"><a href="#cb4-687" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-688"><a href="#cb4-688" aria-hidden="true" tabindex="-1"></a>2009</span>
<span id="cb4-689"><a href="#cb4-689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-690"><a href="#cb4-690" aria-hidden="true" tabindex="-1"></a>2008</span>
<span id="cb4-691"><a href="#cb4-691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-692"><a href="#cb4-692" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://democracy.brighton-hove.gov.uk/documents/s2224/Item%2048-Appendix1.pdf&gt;</span></span>
<span id="cb4-693"><a href="#cb4-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-694"><a href="#cb4-694" aria-hidden="true" tabindex="-1"></a>2007</span>
<span id="cb4-695"><a href="#cb4-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-696"><a href="#cb4-696" aria-hidden="true" tabindex="-1"></a><span class="ot">&lt;https://democracy.brighton-hove.gov.uk/documents/s2224/Item%2048-Appendix1.pdf&gt;</span></span>
<span id="cb4-697"><a href="#cb4-697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-698"><a href="#cb4-698" aria-hidden="true" tabindex="-1"></a>Tidy all of these into a single dataframe:</span>
<span id="cb4-699"><a href="#cb4-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-702"><a href="#cb4-702" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb4-703"><a href="#cb4-703" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb4-704"><a href="#cb4-704" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb4-705"><a href="#cb4-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-706"><a href="#cb4-706" aria-hidden="true" tabindex="-1"></a><span class="co"># List of data frames</span></span>
<span id="cb4-707"><a href="#cb4-707" aria-hidden="true" tabindex="-1"></a>data_frames <span class="ot">&lt;-</span> <span class="fu">list</span>(yr_7_admissions_2013, yr_7_admissions_2014, yr_7_admissions_2015, yr_7_admissions_2016, yr_7_admissions_2017,</span>
<span id="cb4-708"><a href="#cb4-708" aria-hidden="true" tabindex="-1"></a>                    yr_7_admissions_2018, yr_7_admissions_2019, yr_7_admissions_2020, yr_7_admissions_2021,</span>
<span id="cb4-709"><a href="#cb4-709" aria-hidden="true" tabindex="-1"></a>                    yr_7_admissions_2022, yr_7_admissions_2023, yr_7_admissions_2024, yr_7_admissions_2025)</span>
<span id="cb4-710"><a href="#cb4-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-711"><a href="#cb4-711" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign years to each data frame</span></span>
<span id="cb4-712"><a href="#cb4-712" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="dv">2013</span><span class="sc">:</span><span class="dv">2025</span></span>
<span id="cb4-713"><a href="#cb4-713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-714"><a href="#cb4-714" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine data frames with a year column</span></span>
<span id="cb4-715"><a href="#cb4-715" aria-hidden="true" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(<span class="fu">lapply</span>(<span class="fu">seq_along</span>(data_frames), <span class="cf">function</span>(i) {</span>
<span id="cb4-716"><a href="#cb4-716" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(data_frames[[i]], <span class="at">Year =</span> years[i])</span>
<span id="cb4-717"><a href="#cb4-717" aria-hidden="true" tabindex="-1"></a>}))</span>
<span id="cb4-718"><a href="#cb4-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-719"><a href="#cb4-719" aria-hidden="true" tabindex="-1"></a><span class="co"># Reshape to long format</span></span>
<span id="cb4-720"><a href="#cb4-720" aria-hidden="true" tabindex="-1"></a>combined_data_long <span class="ot">&lt;-</span> combined_data <span class="sc">%&gt;%</span></span>
<span id="cb4-721"><a href="#cb4-721" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(School, Year, No_1st_pref, No_1st_pref_offer, No_2nd_pref, No_2nd_pref_offer,</span>
<span id="cb4-722"><a href="#cb4-722" aria-hidden="true" tabindex="-1"></a>         No_3rd_pref, No_3rd_pref_offer, Total, Total_offer)</span>
<span id="cb4-723"><a href="#cb4-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-724"><a href="#cb4-724" aria-hidden="true" tabindex="-1"></a><span class="co"># Arrange the data</span></span>
<span id="cb4-725"><a href="#cb4-725" aria-hidden="true" tabindex="-1"></a>combined_data_long <span class="ot">&lt;-</span> combined_data_long <span class="sc">%&gt;%</span></span>
<span id="cb4-726"><a href="#cb4-726" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Year, School)</span>
<span id="cb4-727"><a href="#cb4-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-728"><a href="#cb4-728" aria-hidden="true" tabindex="-1"></a><span class="co"># View the combined long format data</span></span>
<span id="cb4-729"><a href="#cb4-729" aria-hidden="true" tabindex="-1"></a><span class="co">#print(combined_data_long)</span></span>
<span id="cb4-730"><a href="#cb4-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-731"><a href="#cb4-731" aria-hidden="true" tabindex="-1"></a><span class="co"># Update school names to ensure consistency</span></span>
<span id="cb4-732"><a href="#cb4-732" aria-hidden="true" tabindex="-1"></a>combined_data_long <span class="ot">&lt;-</span> combined_data_long <span class="sc">%&gt;%</span></span>
<span id="cb4-733"><a href="#cb4-733" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">School =</span> <span class="fu">ifelse</span>(School <span class="sc">==</span> <span class="st">"Longhill"</span>, <span class="st">"Longhill High"</span>, School))</span>
<span id="cb4-734"><a href="#cb4-734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-735"><a href="#cb4-735" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify the changes</span></span>
<span id="cb4-736"><a href="#cb4-736" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(combined_data_long<span class="sc">$</span>School)</span>
<span id="cb4-737"><a href="#cb4-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-738"><a href="#cb4-738" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-739"><a href="#cb4-739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-740"><a href="#cb4-740" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-741"><a href="#cb4-741" aria-hidden="true" tabindex="-1"></a><span class="in">library(ggplot2)</span></span>
<span id="cb4-742"><a href="#cb4-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-743"><a href="#cb4-743" aria-hidden="true" tabindex="-1"></a><span class="in"># Filter out the "Total" from the combined data</span></span>
<span id="cb4-744"><a href="#cb4-744" aria-hidden="true" tabindex="-1"></a><span class="in">combined_data_long_filtered &lt;- combined_data_long %&gt;%</span></span>
<span id="cb4-745"><a href="#cb4-745" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(School != "Total")</span></span>
<span id="cb4-746"><a href="#cb4-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-747"><a href="#cb4-747" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the plot</span></span>
<span id="cb4-748"><a href="#cb4-748" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot(combined_data_long_filtered, aes(x = Year, y = Total_offer, color = School, group = School)) +</span></span>
<span id="cb4-749"><a href="#cb4-749" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_line() +</span></span>
<span id="cb4-750"><a href="#cb4-750" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_point() +</span></span>
<span id="cb4-751"><a href="#cb4-751" aria-hidden="true" tabindex="-1"></a><span class="in">  xlab("Year") +</span></span>
<span id="cb4-752"><a href="#cb4-752" aria-hidden="true" tabindex="-1"></a><span class="in">  ylab("Total Offers") +</span></span>
<span id="cb4-753"><a href="#cb4-753" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb4-754"><a href="#cb4-754" aria-hidden="true" tabindex="-1"></a><span class="in">  ggtitle("Yearly Total Offers by School") +</span></span>
<span id="cb4-755"><a href="#cb4-755" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_continuous(breaks = seq(min(combined_data_long_filtered$Year), max(combined_data_long_filtered$Year), by = 1)) +</span></span>
<span id="cb4-756"><a href="#cb4-756" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(</span></span>
<span id="cb4-757"><a href="#cb4-757" aria-hidden="true" tabindex="-1"></a><span class="in">    axis.text.x = element_text(angle = 45, hjust = 1),</span></span>
<span id="cb4-758"><a href="#cb4-758" aria-hidden="true" tabindex="-1"></a><span class="in">    panel.grid.major.x = element_line(color = "grey", linetype = "dashed"),</span></span>
<span id="cb4-759"><a href="#cb4-759" aria-hidden="true" tabindex="-1"></a><span class="in">    panel.grid.minor.x = element_blank()</span></span>
<span id="cb4-760"><a href="#cb4-760" aria-hidden="true" tabindex="-1"></a><span class="in">  ) </span></span>
<span id="cb4-761"><a href="#cb4-761" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-762"><a href="#cb4-762" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-763"><a href="#cb4-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-764"><a href="#cb4-764" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-765"><a href="#cb4-765" aria-hidden="true" tabindex="-1"></a><span class="in">library(ggplot2)</span></span>
<span id="cb4-766"><a href="#cb4-766" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-767"><a href="#cb4-767" aria-hidden="true" tabindex="-1"></a><span class="in"># Filter out the "Total" from the combined data</span></span>
<span id="cb4-768"><a href="#cb4-768" aria-hidden="true" tabindex="-1"></a><span class="in">combined_data_long_filtered &lt;- combined_data_long %&gt;%</span></span>
<span id="cb4-769"><a href="#cb4-769" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(School != "Total")</span></span>
<span id="cb4-770"><a href="#cb4-770" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-771"><a href="#cb4-771" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the plot</span></span>
<span id="cb4-772"><a href="#cb4-772" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot(combined_data_long_filtered, aes(x = Year, y = Total, color = School, group = School)) +</span></span>
<span id="cb4-773"><a href="#cb4-773" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_line() +</span></span>
<span id="cb4-774"><a href="#cb4-774" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_point() +</span></span>
<span id="cb4-775"><a href="#cb4-775" aria-hidden="true" tabindex="-1"></a><span class="in">  xlab("Year") +</span></span>
<span id="cb4-776"><a href="#cb4-776" aria-hidden="true" tabindex="-1"></a><span class="in">  ylab("Total Applications") +</span></span>
<span id="cb4-777"><a href="#cb4-777" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb4-778"><a href="#cb4-778" aria-hidden="true" tabindex="-1"></a><span class="in">  ggtitle("Yearly Total Applications by School") +</span></span>
<span id="cb4-779"><a href="#cb4-779" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_continuous(breaks = seq(min(combined_data_long_filtered$Year), max(combined_data_long_filtered$Year), by = 1)) +</span></span>
<span id="cb4-780"><a href="#cb4-780" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(</span></span>
<span id="cb4-781"><a href="#cb4-781" aria-hidden="true" tabindex="-1"></a><span class="in">    axis.text.x = element_text(angle = 45, hjust = 1),</span></span>
<span id="cb4-782"><a href="#cb4-782" aria-hidden="true" tabindex="-1"></a><span class="in">    panel.grid.major.x = element_line(color = "grey", linetype = "dashed"),</span></span>
<span id="cb4-783"><a href="#cb4-783" aria-hidden="true" tabindex="-1"></a><span class="in">    panel.grid.minor.x = element_blank()</span></span>
<span id="cb4-784"><a href="#cb4-784" aria-hidden="true" tabindex="-1"></a><span class="in">  ) </span></span>
<span id="cb4-785"><a href="#cb4-785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-786"><a href="#cb4-786" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-787"><a href="#cb4-787" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-788"><a href="#cb4-788" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-789"><a href="#cb4-789" aria-hidden="true" tabindex="-1"></a><span class="in"># Filter data for the specified schools</span></span>
<span id="cb4-790"><a href="#cb4-790" aria-hidden="true" tabindex="-1"></a><span class="in">selected_schools &lt;- combined_data_long %&gt;%</span></span>
<span id="cb4-791"><a href="#cb4-791" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(School %in% c("Longhill High", "Kings School", "Brighton Aldridge Community Academy"))</span></span>
<span id="cb4-792"><a href="#cb4-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-793"><a href="#cb4-793" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the plot</span></span>
<span id="cb4-794"><a href="#cb4-794" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot(selected_schools, aes(x = Year, y = Total_offer, color = School, group = School)) +</span></span>
<span id="cb4-795"><a href="#cb4-795" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_line() +</span></span>
<span id="cb4-796"><a href="#cb4-796" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_point() +</span></span>
<span id="cb4-797"><a href="#cb4-797" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_smooth(method = "lm", se = FALSE, linetype = "dotted") +</span></span>
<span id="cb4-798"><a href="#cb4-798" aria-hidden="true" tabindex="-1"></a><span class="in">  xlab("Year") +</span></span>
<span id="cb4-799"><a href="#cb4-799" aria-hidden="true" tabindex="-1"></a><span class="in">  ylab("Total Offers") +</span></span>
<span id="cb4-800"><a href="#cb4-800" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb4-801"><a href="#cb4-801" aria-hidden="true" tabindex="-1"></a><span class="in">  ggtitle("Yearly Total Offers") +</span></span>
<span id="cb4-802"><a href="#cb4-802" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_continuous(breaks = seq(min(combined_data_long_filtered$Year), max(combined_data_long_filtered$Year), by = 1)) +</span></span>
<span id="cb4-803"><a href="#cb4-803" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(limits = c(70, 290), breaks = seq(0, 280, by = 20)) +</span></span>
<span id="cb4-804"><a href="#cb4-804" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(</span></span>
<span id="cb4-805"><a href="#cb4-805" aria-hidden="true" tabindex="-1"></a><span class="in">    axis.text.x = element_text(angle = 45, hjust = 1),</span></span>
<span id="cb4-806"><a href="#cb4-806" aria-hidden="true" tabindex="-1"></a><span class="in">    panel.grid.major.x = element_line(color = "grey", linetype = "dashed"),</span></span>
<span id="cb4-807"><a href="#cb4-807" aria-hidden="true" tabindex="-1"></a><span class="in">    panel.grid.minor.x = element_blank()</span></span>
<span id="cb4-808"><a href="#cb4-808" aria-hidden="true" tabindex="-1"></a><span class="in">  ) +</span></span>
<span id="cb4-809"><a href="#cb4-809" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_hline(yintercept = 270, color = "blue", linetype = "solid") +</span></span>
<span id="cb4-810"><a href="#cb4-810" aria-hidden="true" tabindex="-1"></a><span class="in">  annotate("text", x = max(combined_data_long_filtered$Year) - 1, y = 270, label = "Longhill PAN", color = "blue", vjust = -1)</span></span>
<span id="cb4-811"><a href="#cb4-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-812"><a href="#cb4-812" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-813"><a href="#cb4-813" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-814"><a href="#cb4-814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-815"><a href="#cb4-815" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-816"><a href="#cb4-816" aria-hidden="true" tabindex="-1"></a><span class="in"># Filter data for the specified schools</span></span>
<span id="cb4-817"><a href="#cb4-817" aria-hidden="true" tabindex="-1"></a><span class="in">selected_schools &lt;- combined_data_long %&gt;%</span></span>
<span id="cb4-818"><a href="#cb4-818" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(School %in% c("Longhill High", "Kings School", "Brighton Aldridge Community Academy"))</span></span>
<span id="cb4-819"><a href="#cb4-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-820"><a href="#cb4-820" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the plot</span></span>
<span id="cb4-821"><a href="#cb4-821" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot(selected_schools, aes(x = Year, y = Total, color = School, group = School)) +</span></span>
<span id="cb4-822"><a href="#cb4-822" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_line() +</span></span>
<span id="cb4-823"><a href="#cb4-823" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_point() +</span></span>
<span id="cb4-824"><a href="#cb4-824" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_smooth(method = "lm", se = FALSE, linetype = "dotted") +</span></span>
<span id="cb4-825"><a href="#cb4-825" aria-hidden="true" tabindex="-1"></a><span class="in">  xlab("Year") +</span></span>
<span id="cb4-826"><a href="#cb4-826" aria-hidden="true" tabindex="-1"></a><span class="in">  ylab("Total Applications") +</span></span>
<span id="cb4-827"><a href="#cb4-827" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb4-828"><a href="#cb4-828" aria-hidden="true" tabindex="-1"></a><span class="in">  ggtitle("Yearly Total Applications") +</span></span>
<span id="cb4-829"><a href="#cb4-829" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_continuous(breaks = seq(min(combined_data_long_filtered$Year), max(combined_data_long_filtered$Year), by = 1)) +</span></span>
<span id="cb4-830"><a href="#cb4-830" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(limits = c(100, 800), breaks = seq(100, 800, by = 100)) +</span></span>
<span id="cb4-831"><a href="#cb4-831" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(</span></span>
<span id="cb4-832"><a href="#cb4-832" aria-hidden="true" tabindex="-1"></a><span class="in">    axis.text.x = element_text(angle = 45, hjust = 1),</span></span>
<span id="cb4-833"><a href="#cb4-833" aria-hidden="true" tabindex="-1"></a><span class="in">    panel.grid.major.x = element_line(color = "grey", linetype = "dashed"),</span></span>
<span id="cb4-834"><a href="#cb4-834" aria-hidden="true" tabindex="-1"></a><span class="in">    panel.grid.minor.x = element_blank()</span></span>
<span id="cb4-835"><a href="#cb4-835" aria-hidden="true" tabindex="-1"></a><span class="in">  ) +</span></span>
<span id="cb4-836"><a href="#cb4-836" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_hline(yintercept = 270, color = "blue", linetype = "solid") +</span></span>
<span id="cb4-837"><a href="#cb4-837" aria-hidden="true" tabindex="-1"></a><span class="in">  annotate("text", x = max(combined_data_long_filtered$Year) - 1, y = 270, label = "Longhill PAN", color = "blue", vjust = -1)</span></span>
<span id="cb4-838"><a href="#cb4-838" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-839"><a href="#cb4-839" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-840"><a href="#cb4-840" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-841"><a href="#cb4-841" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-842"><a href="#cb4-842" aria-hidden="true" tabindex="-1"></a><span class="in"># Filter data for the specified schools</span></span>
<span id="cb4-843"><a href="#cb4-843" aria-hidden="true" tabindex="-1"></a><span class="in">selected_schools &lt;- combined_data_long %&gt;%</span></span>
<span id="cb4-844"><a href="#cb4-844" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(School %in% c("Varndean", "Dorothy Stringer", "Hove Park", "Blatchington Mill", "Patcham High"))</span></span>
<span id="cb4-845"><a href="#cb4-845" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-846"><a href="#cb4-846" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the plot</span></span>
<span id="cb4-847"><a href="#cb4-847" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot(selected_schools, aes(x = Year, y = Total, color = School, group = School)) +</span></span>
<span id="cb4-848"><a href="#cb4-848" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_line() +</span></span>
<span id="cb4-849"><a href="#cb4-849" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_point() +</span></span>
<span id="cb4-850"><a href="#cb4-850" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_smooth(method = "lm", se = FALSE, linetype = "dotted") +</span></span>
<span id="cb4-851"><a href="#cb4-851" aria-hidden="true" tabindex="-1"></a><span class="in">  xlab("Year") +</span></span>
<span id="cb4-852"><a href="#cb4-852" aria-hidden="true" tabindex="-1"></a><span class="in">  ylab("Total Applications") +</span></span>
<span id="cb4-853"><a href="#cb4-853" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb4-854"><a href="#cb4-854" aria-hidden="true" tabindex="-1"></a><span class="in">  ggtitle("Yearly Total Applications") +</span></span>
<span id="cb4-855"><a href="#cb4-855" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_continuous(breaks = seq(min(combined_data_long_filtered$Year), max(combined_data_long_filtered$Year), by = 1)) +</span></span>
<span id="cb4-856"><a href="#cb4-856" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(</span></span>
<span id="cb4-857"><a href="#cb4-857" aria-hidden="true" tabindex="-1"></a><span class="in">    axis.text.x = element_text(angle = 45, hjust = 1),</span></span>
<span id="cb4-858"><a href="#cb4-858" aria-hidden="true" tabindex="-1"></a><span class="in">    panel.grid.major.x = element_line(color = "grey", linetype = "dashed"),</span></span>
<span id="cb4-859"><a href="#cb4-859" aria-hidden="true" tabindex="-1"></a><span class="in">    panel.grid.minor.x = element_blank()</span></span>
<span id="cb4-860"><a href="#cb4-860" aria-hidden="true" tabindex="-1"></a><span class="in">  ) </span></span>
<span id="cb4-861"><a href="#cb4-861" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb4-862"><a href="#cb4-862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-863"><a href="#cb4-863" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=F, message=F, warning=F}</span></span>
<span id="cb4-864"><a href="#cb4-864" aria-hidden="true" tabindex="-1"></a><span class="in"># Filter data for the specified schools</span></span>
<span id="cb4-865"><a href="#cb4-865" aria-hidden="true" tabindex="-1"></a><span class="in">selected_schools &lt;- combined_data_long %&gt;%</span></span>
<span id="cb4-866"><a href="#cb4-866" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(School %in% c("Varndean", "Dorothy Stringer", "Hove Park", "Blatchington Mill"))</span></span>
<span id="cb4-867"><a href="#cb4-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-868"><a href="#cb4-868" aria-hidden="true" tabindex="-1"></a><span class="in"># Create the plot</span></span>
<span id="cb4-869"><a href="#cb4-869" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot(selected_schools, aes(x = Year, y = Total_offer, color = School, group = School)) +</span></span>
<span id="cb4-870"><a href="#cb4-870" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_line() +</span></span>
<span id="cb4-871"><a href="#cb4-871" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_point() +</span></span>
<span id="cb4-872"><a href="#cb4-872" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_smooth(method = "lm", se = FALSE, linetype = "dotted") +</span></span>
<span id="cb4-873"><a href="#cb4-873" aria-hidden="true" tabindex="-1"></a><span class="in">  xlab("Year") +</span></span>
<span id="cb4-874"><a href="#cb4-874" aria-hidden="true" tabindex="-1"></a><span class="in">  ylab("Total Offers") +</span></span>
<span id="cb4-875"><a href="#cb4-875" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal() +</span></span>
<span id="cb4-876"><a href="#cb4-876" aria-hidden="true" tabindex="-1"></a><span class="in">  ggtitle("Yearly Total Offers") +</span></span>
<span id="cb4-877"><a href="#cb4-877" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_continuous(breaks = seq(min(combined_data_long_filtered$Year), max(combined_data_long_filtered$Year), by = 1)) +</span></span>
<span id="cb4-878"><a href="#cb4-878" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(</span></span>
<span id="cb4-879"><a href="#cb4-879" aria-hidden="true" tabindex="-1"></a><span class="in">    axis.text.x = element_text(angle = 45, hjust = 1),</span></span>
<span id="cb4-880"><a href="#cb4-880" aria-hidden="true" tabindex="-1"></a><span class="in">    panel.grid.major.x = element_line(color = "grey", linetype = "dashed"),</span></span>
<span id="cb4-881"><a href="#cb4-881" aria-hidden="true" tabindex="-1"></a><span class="in">    panel.grid.minor.x = element_blank()</span></span>
<span id="cb4-882"><a href="#cb4-882" aria-hidden="true" tabindex="-1"></a><span class="in">  ) </span></span>
<span id="cb4-883"><a href="#cb4-883" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-884"><a href="#cb4-884" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/adamdennett/BH_Schools_2/blob/main/data_processing_scripts.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/adamdennett/BH_Schools_2/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>